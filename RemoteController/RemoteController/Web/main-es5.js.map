{"version":3,"sources":["webpack:///src/core/models/PageDetails.ts","webpack:///src/key/key-editor-component/key-editor.component.ts","webpack:///src/key/key-editor-component/key-editor.component.html","webpack:///src/core/pipes/IconsFilterPipe.ts","webpack:///src/core/services/pages.service.ts","webpack:///src/app/pipes/enum-to-array.pipe.ts","webpack:///src/key/key-component/key.component.ts","webpack:///src/key/key-component/key.component.html","webpack:///src/command/command-component/command.component.ts","webpack:///src/command/command-component/command.component.html","webpack:///src/core/models/WebSocketMessage.ts","webpack:///src/app/components/control-editor-view/control-editor-view.component.ts","webpack:///src/app/components/control-editor-view/control-editor-view.component.html","webpack:///src/app/components/page-create/page-create.component.ts","webpack:///src/app/components/page-create/page-create.component.html","webpack:///src/environments/environment.ts","webpack:///src/key/key.module.ts","webpack:///src/file-system/index.ts","webpack:///src/core/services/informers-state.service.ts","webpack:///src/core/pipes/EnumToArrayPipe.ts","webpack:///src/command/command-editor-component/command-editor.component.ts","webpack:///src/command/command-editor-component/command-editor.component.html","webpack:///src/command/index.ts","webpack:///src/core/directives/auto-focus.directive.ts","webpack:///src/key/Models/KeyControlMode.ts","webpack:///src/core/components/control-column-editor/control-column-editor.component.ts","webpack:///src/core/components/control-column-editor/control-column-editor.component.html","webpack:///src/file-system/file-system-component/file-system.component.ts","webpack:///src/file-system/file-system-component/file-system.component.html","webpack:///src/app/components/control-editor/control-editor.component.ts","webpack:///src/app/components/control-editor/control-editor.component.html","webpack:///src/core/components/BaseControlComponent.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/volume/index.ts","webpack:///src/core/utils/makeid.ts","webpack:///src/core/index.ts","webpack:///src/file-system/Services/file-system-paths.service.ts","webpack:///src/core/models/WebSocketMessageType.ts","webpack:///src/file-system/file-system-editor-component/file-system-editor.component.ts","webpack:///src/file-system/file-system-editor-component/file-system-editor.component.html","webpack:///src/core/pipes/column-class-name.pipe.ts","webpack:///src/app/app.module.ts","webpack:///src/core/components/icon-selector/icon-selector.component.ts","webpack:///src/core/components/icon-selector/icon-selector.component.html","webpack:///src/app/components/create-control/create-control.component.ts","webpack:///src/app/components/create-control/create-control.component.html","webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/core/services/controls.service.ts","webpack:///src/volume/volume.module.ts","webpack:///src/volume/volume-editor-component/volume-editor.component.ts","webpack:///src/volume/volume-editor-component/volume-editor.component.html","webpack:///src/app/components/nav-menu/nav-menu.component.ts","webpack:///src/app/components/nav-menu/nav-menu.component.html","webpack:///src/core/core.module.ts","webpack:///src/key/Models/KeysList.ts","webpack:///src/app/components/control-view/control-view.component.ts","webpack:///src/app/components/control-view/control-view.component.html","webpack:///src/core/services/web-socket.service.ts","webpack:///src/core/services/auth.service.ts","webpack:///src/app/components/page-editor/page-editor.component.ts","webpack:///src/app/components/page-editor/page-editor.component.html","webpack:///src/command/command.module.ts","webpack:///src/app/directives/control-host/control-host.directive.ts","webpack:///src/volume/volume-component/volume.component.ts","webpack:///src/volume/volume-component/volume.component.html","webpack:///src/core/services/wake-lock.service.ts","webpack:///src/core/utils/findIcon.ts","webpack:///src/file-system/file-system.module.ts","webpack:///src/key/index.ts","webpack:///src/app/components/page/page.component.html","webpack:///src/app/components/page/page.component.ts","webpack:///src/main.ts"],"names":["PageDetails","title","wakeLock","controls","name","col","data","text","icon","mode","id","map","controlToDto","JSON","stringify","toDto","control","json","dto","parse","pd","parseControl","KeyEditorComponent","repeatMin","repeatDefault","keyCodes","key","showIconPicker","Press","modes","repeat","find","x","value","r","isNaN","iconName","Repeatable","changeIcon","selector","templateUrl","styleUrls","IconsFilterPipe","filter","toLowerCase","rv","indexOf","PagesService","pages","localStorage","getItem","__key","setItem","list","obj","Array","sort","a","b","index","next","getValue","undefined","page","detailsKey","exists","origName","ind","details","length","toJson","setPage","findIndex","splice","forEach","i","removeItem","savePages","push","Error","providedIn","EnumToArrayPipe","Object","keys","e","o","KeyComponent","webSocketService","showIconWithTitle","isKeyDown","repeatHandler","colMax","iconWithText","action","m","d","t","Request","h","send","clearInterval","setInterval","onClick","onTouchstart","onTouchend","CommandComponent","informers","isCommandAvailable","subs","command","messageHandler","msg","ActionName","Type","Response","alert","Data","Commands","subscribe","checkCommandAvailability","isConnected","removeMessageHandler","addMessageHandler","unsubscribe","commands","WebSocketMessage","__Type","__ActionName","__Hash","__Data","Hash","object","ControlEditorViewComponent","_control","openEditor","emit","PageCreateComponent","router","pagesService","console","log","trim","create","navigateToPage","navigate","environment","production","port","KeyModule","reg","controlKey","viewType","editType","register","ngModule","providers","declarations","imports","exports","InformersStateService","service","handlers","onSound","onCommands","Sound","proceedHandlers","checkServer","hasOwnProperty","handler","CommandEditorCompoent","AutoFocusDirective","el","setTimeout","nativeElement","focus","appAutoFocus","KeyControlMode","ControlColumnEditorComponent","_value","_min","_max","initialized","valueChange","v","parseInt","max","min","FileSystemComponent","pathsService","messageHandlers","files","folders","paths","path","maxHeight","iconFolder","iconFile","onFileSystemList","socketId","generateId","subscription","goToPath","getPath","startsWith","join","url","arr","p","slice","unshift","setPath","ControlEditorComponent","controlsService","_editor","showDelete","textSave","cancel","save","showTypedEditor","ref","host","viewContainerRef","clear","editors","c","orig","changed","assign","submit","BaseControlComponent","_col","colMin","AppComponent","window","addEventListener","open","makeid","possible","charAt","Math","floor","random","FileSystemPathsService","reload","s","element","WebSocketMessageType","FileSystemEditorComponent","ColumnClassNamePipe","AppModule","withServerTransition","appId","forRoot","component","pathMatch","relativeLinkResolution","bootstrap","IconSelectorComponent","filterPipe","_filter","_showEmpty","icons","iconChange","_allIcons","filterItems","transform","showEmpty","CreateControlComponent","type","controlTypes","getAvailable","editor","load","typeChanged","onCancel","onSave","webpackEmptyAsyncContext","req","Promise","resolve","then","code","module","ControlsService","componentFactoryResolver","_registrations","registration","items","item","generateView","f","resolveComponentFactory","createComponent","instance","generateEditor","VolumeModule","VolumeEditorComponent","NavMenuComponent","elementRef","renderer","isExpanded","subscriptions","sub","listen","evt","contains","target","close","toggle","CoreModule","provide","useFactory","WebSocketServiceProvider","deps","authService","l","location","protocol","document","hostname","logRaisingEvent","link","KeyCodes","ControlViewComponent","view","WebSocketService","__autoReconnectInterval","__autoReconnectTries","__autoReconnectTry","__handlers","__messageHandlers","__instnaceHandlers","raiseEvent","reconnect","reason","__filters","every","raiseMessage","isAuthorized","Function","message","WebSocket","instanceCreated","warn","ws","instanceClosed","autoReconnectInterval","removeEventListener","AuthService","token","String","ActionAuth","getToken","setToken","auth","PageEditorComponent","route","show","showCreateControl","params","controlEditor","update","confirmed","confirm","controlCreator","hideCreateControl","addControl","updateControl","deleteControl","createControl","CommandModule","ControlHostDirective","VolumeComponent","isEnabled","input","OutputVolume","OutputIsMuted","sound","WakeLockService","_lock","_autoLock","onVisibilityChange","visibilityState","lock","releaseLock","n","navigator","isAvailable","request","release","findIcon","pack","allIcons","FileSystemModule","PageComponent","wakeLockService","getBaseUrl","getElementsByTagName","href","bootstrapModule","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { IControl } from './IControl';\r\n\r\nexport class PageDetails {\r\n  public title: string = '';\r\n  public wakeLock: boolean = false;\r\n  public controls: IControl[] = [\r\n    <any>{\r\n      name: 'key',\r\n      col: 4,\r\n      data: 'VK_F',\r\n      text: 'Fullscreen',\r\n      icon: 'compress',\r\n      mode: 0,\r\n    },\r\n    {\r\n      name: 'vol',\r\n      col: 8\r\n    },\r\n    <any>{\r\n      name: 'key',\r\n      col: 3,\r\n      data: 'LEFT',\r\n      text: 'Left',\r\n      icon: 'angle-double-left',\r\n      mode: 1,\r\n    },\r\n    <any>{\r\n      name: 'key',\r\n      col: 6,\r\n      data: 'MEDIA_PLAY_PAUSE',\r\n      text: 'Media Play/Pause',\r\n      icon: 'pause',\r\n      mode: 1,\r\n    },\r\n    <any>{\r\n      name: 'key',\r\n      col: 3,\r\n      data: 'RIGHT',\r\n      text: 'Right',\r\n      icon: 'angle-double-right',\r\n      mode: 1,\r\n    },\r\n    <any>{\r\n      name: 'fs',\r\n      id: 'movies'\r\n    }\r\n    // <IKeyControl>{\r\n    //   type: ControlType.Key,\r\n    //   col: 3,\r\n    //   key: 'VOLUME_UP',\r\n    //   text: 'Volume up',\r\n    //   icon: 'volume-up'\r\n    // },\r\n    // <IKeyControl>{\r\n    //   type: ControlType.Key,\r\n    //   col: 3,\r\n    //   key: 'VOLUME_DOWN',\r\n    //   text: 'Volume down',\r\n    //   icon: 'volume-down'\r\n    // },\r\n    // <IKeyControl>{\r\n    //   type: ControlType.Key,\r\n    //   col: 3,\r\n    //   key: 'left',\r\n    //   text: 'Left',\r\n    //   icon: 'arrow-left'\r\n    // },\r\n    // <IKeyControl>{\r\n    //   type: ControlType.Key,\r\n    //   col: 3,\r\n    //   key: 'right',\r\n    //   text: 'Right',\r\n    //   icon: 'arrow-right'\r\n    // },\r\n    // <IKeyControl>{\r\n    //   type: ControlType.Key,\r\n    //   col: 4,\r\n    //   key: 'f',\r\n    //   text: 'Fullscreen',\r\n    //   icon: 'compress'\r\n    // },\r\n    // <IKeyControl>{\r\n    //   type: ControlType.Key,\r\n    //   col: 8,\r\n    //   key: 'space',\r\n    //   text: 'SPACE',\r\n    //   icon: 'pause'\r\n    // },\r\n    // {\r\n    //   type: ControlType.Volume,\r\n    //   col: 12\r\n    // },\r\n    // <IFileSystemControl>{\r\n    //   type: ControlType.FileSystem,\r\n    //   col: 12,\r\n    //   id: '1'\r\n    // }\r\n  ];\r\n\r\n  public static parse(json: string): PageDetails {\r\n    if (!json)\r\n      return null;\r\n\r\n    const dto = JSON.parse(json);\r\n    if (!dto)\r\n      return null;\r\n\r\n    const pd = new PageDetails();\r\n    pd.title = dto.title;\r\n    pd.wakeLock = !!dto.wakeLock;\r\n    pd.controls = (<IControl[]>(dto.controls)).map(this.parseControl);\r\n    return pd;\r\n  }\r\n\r\n  private static parseControl(dto: IControl): IControl {\r\n    return dto;\r\n  }\r\n\r\n  public toDto() {\r\n    return {\r\n      title: this.title,\r\n      wakeLock: !!this.wakeLock,\r\n      controls: this.controls.map(this.controlToDto),\r\n    };\r\n  }\r\n\r\n  public toJson(): string {\r\n    return JSON.stringify(this.toDto());\r\n  }\r\n\r\n  private controlToDto(control: IControl): IControl {\r\n    return control;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { IControlEditor, IControl, findIcon } from 'src/core';\r\nimport { IKeyControl } from '../Models/IKeyControl';\r\nimport { KeyControlMode } from '../Models/KeyControlMode';\r\nimport { KeyCodes } from '../Models/KeysList';\r\nimport { IconDefinition } from '@fortawesome/fontawesome-svg-core';\r\n\r\n@Component({\r\n  selector: 'rc-key-editor',\r\n  templateUrl: './key-editor.component.html',\r\n  styleUrls: ['./key-editor.component.css']\r\n})\r\nexport class KeyEditorComponent\r\n  implements IControlEditor, OnInit {\r\n\r\n  private repeatMin: number = 10;\r\n  private repeatDefault: number = 100;\r\n\r\n  public keyCodes = KeyCodes;\r\n  public data: IKeyControl = null;\r\n  public key: { name: string, value: string } = null;\r\n  public icon: IconDefinition = null;\r\n  public showIconPicker: boolean = false;\r\n  public mode: KeyControlMode = KeyControlMode.Press;\r\n  public modes = KeyControlMode;\r\n  public repeat: number = this.repeatDefault;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  load(data: IKeyControl): boolean {\r\n    if (!!data) {\r\n      this.data = data;\r\n      this.key = this.keyCodes.find(x => x.value === data.data);\r\n      this.icon = !!data.icon ? findIcon(data.icon) : null;\r\n      this.mode = 'mode' in data ? data.mode : KeyControlMode.Press;\r\n      this.repeat = 'r' in data ? +data.r : this.repeatDefault;\r\n      if (isNaN(+this.repeat)) {\r\n        this.repeat = this.repeatDefault;\r\n      } else if (this.repeat < this.repeatMin)\r\n        this.repeat = this.repeatMin;\r\n    } else {\r\n      this.data = null;\r\n      this.key = null;\r\n      this.icon = null;\r\n      this.mode = KeyControlMode.Press;\r\n      this.repeat = this.repeatDefault;\r\n    }\r\n    this.showIconPicker = false;\r\n    return true;\r\n  }\r\n  save(): IControl {\r\n    if (!!this.key) {\r\n      this.data.data = this.key.value;\r\n      this.data.text = this.key.name;\r\n      this.data.icon = !!this.icon ? this.icon.iconName : null;\r\n      this.data.mode = this.mode;\r\n\r\n      if (this.mode === KeyControlMode.Repeatable)\r\n        this.data.r = this.repeat;\r\n      else\r\n        delete this.data.r;\r\n    }\r\n    return this.data;\r\n  }\r\n\r\n  onKeyChanged(data: { name: string, value: string }) {\r\n    this.key = data;\r\n  }\r\n  onModeChanged(data: KeyControlMode) {\r\n    this.mode = data;\r\n  }\r\n\r\n  changeIcon(icon: IconDefinition) {\r\n    this.icon = icon;\r\n    this.showIconPicker = false;\r\n  }\r\n}\r\n","\r\n<div [hidden]=\"!!showIconPicker\">\r\n  <rc-control-column-editor *ngIf=\"!!data\" [(value)]=\"data.col\"></rc-control-column-editor>\r\n\r\n  <div class=\"form-group\" *ngIf=\"!!data\">\r\n    <label>Key</label>\r\n    <select\r\n      [ngModel]=\"key\"\r\n      (ngModelChange)=\"onKeyChanged($event)\"\r\n      class=\"form-control\">\r\n      <option *ngFor=\"let x of keyCodes\" [ngValue]='x'>{{x.name}}</option>\r\n    </select>\r\n  </div>\r\n\r\n  <div class=\"form-group\" *ngIf=\"!!data\">\r\n    <label>Action mode</label>\r\n    <select\r\n      [ngModel]=\"mode\"\r\n      (ngModelChange)=\"onModeChanged($event)\"\r\n      class=\"form-control\">\r\n      <option *ngFor=\"let x of modes | enumToArray\" [ngValue]='x.index'>{{x.name}}</option>\r\n    </select>\r\n  </div>\r\n\r\n  <div class=\"form-group\" *ngIf=\"!!data && mode === modes.Repeatable\">\r\n    <label>Repeat interval</label>\r\n    <input\r\n      type=\"number\"\r\n      [(ngModel)]=\"repeat\"\r\n      class=\"form-control\"\r\n      min=\"10\"\r\n      step=\"10\"\r\n      />\r\n  </div>\r\n\r\n  <div class=\"form-group\">\r\n    <label class=\"col-3\">\r\n      Icon:\r\n    </label>\r\n    <span class=\"col-3\">\r\n      <fa-icon *ngIf=\"!!icon\" [icon]=\"icon\" class=\"fa-lg\"></fa-icon>\r\n      <span *ngIf=\"!icon\">None</span>\r\n    </span>\r\n    <button class=\"btn btn-primary col-6\" (click)=\"showIconPicker = true\">Change</button>\r\n  </div>\r\n</div>\r\n\r\n<rc-icon-selector\r\n  [hidden]=\"!showIconPicker\"\r\n  showEmpty='true'\r\n  [icon]=\"icon\"\r\n  (iconChange)='changeIcon($event)'\r\n></rc-icon-selector>\r\n","import { PipeTransform, Pipe } from '@angular/core';\r\nimport { IconDefinition } from '@fortawesome/fontawesome-svg-core';\r\n\r\n@Pipe({\r\n  name: 'icons_filter'\r\n})\r\nexport class IconsFilterPipe implements PipeTransform {\r\n  transform(value: IconDefinition[], filter: string, ...args: any[]) {\r\n    filter = !!filter ? filter.toLowerCase() : null;\r\n    const rv = filter === null\r\n      ? value\r\n      : value.filter(x => x.iconName.indexOf(filter) >= 0);\r\n\r\n    return rv;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { IPage } from '../models/IPage';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { PageDetails } from '../models/PageDetails';\r\nimport { ReadVarExpr } from '@angular/compiler';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PagesService {\r\n  private static __key: string = 'rc.pages';\r\n\r\n  constructor() {\r\n    this.pages = new BehaviorSubject(null);\r\n    if (localStorage.getItem(PagesService.__key) === null)\r\n      localStorage.setItem(PagesService.__key, JSON.stringify(<any>[]));\r\n\r\n    this.list();\r\n  }\r\n\r\n  public pages: BehaviorSubject<IPage[]>;\r\n\r\n  private detailsKey(name: string) {\r\n    const key = `${PagesService.__key}.${name}`;\r\n    return key;\r\n  }\r\n\r\n  /**\r\n   * Lists all available pages in ordered way.\r\n   */\r\n  public list(): IPage[] {\r\n    const json = localStorage.getItem(PagesService.__key);\r\n    if (typeof json !== 'string')\r\n      return null;\r\n\r\n    const obj = JSON.parse(json);\r\n    if (obj instanceof Array === false)\r\n      return null;\r\n\r\n    const pages = <IPage[]>obj;\r\n    const rv = pages\r\n      .sort((a, b) => a.index - b.index);\r\n\r\n\r\n    this.pages.next(rv);\r\n\r\n    return rv;\r\n  }\r\n\r\n  /**\r\n   * Gets page with details.\r\n   * @param name\r\n   */\r\n  public details(name: string) {\r\n    if (typeof name !== 'string')\r\n      return null;\r\n\r\n    const list = this.pages.getValue();\r\n    if (list === null || list === undefined)\r\n      return null;\r\n\r\n    name = name.toLowerCase();\r\n\r\n    const page = list.find(x => x.name === name);\r\n    if (page === null || page === undefined)\r\n      return null;\r\n\r\n    const key = this.detailsKey(name);\r\n    const json = localStorage.getItem(key);\r\n    if (typeof json !== 'string')\r\n      return null;\r\n\r\n    const rv = PageDetails.parse(json);\r\n    return rv;\r\n  }\r\n\r\n  /**\r\n   * Creates new page with specified title and optional name.\r\n   * @param title\r\n   * @param name\r\n   */\r\n  public create(title: string, name: string = null): PageDetails {\r\n    if (typeof title !== 'string')\r\n      return null;\r\n    if (typeof name !== 'string')\r\n      name = title.toLowerCase();\r\n\r\n    const list = this.pages.getValue(); // TODO: Init list.\r\n    const exists = () => list.find(x => x.name === name) !== undefined;\r\n    if (exists()) {\r\n      const origName = name;\r\n      let ind = 0;\r\n      do {\r\n        name = `${origName}-${++ind}`;\r\n      } while (exists());\r\n    }\r\n    const details = new PageDetails();\r\n    details.title = title;\r\n    // TODO: Populate details\r\n\r\n    const page: IPage = {\r\n      title: title,\r\n      name: name,\r\n      index: list.length,\r\n    };\r\n    const key = this.detailsKey(name);\r\n    localStorage.setItem(key, details.toJson());\r\n    this.setPage(page);\r\n\r\n    return details;\r\n  }\r\n\r\n  /**\r\n   * Permanently deletes page by name\r\n   * @param name\r\n   */\r\n  public delete(name: string) {\r\n    if (typeof name !== 'string')\r\n      return null;\r\n\r\n    name = name.toLowerCase();\r\n\r\n    const pages = this.pages.getValue();\r\n    const rv = pages instanceof Array ? pages.findIndex(x => <any>(x.name === name)) : -1;\r\n\r\n    if (rv >= 0) {\r\n      pages.splice(rv, 1);\r\n      pages.forEach((x, i) => {\r\n        if (i < rv) return;\r\n        x.index = i;\r\n      });\r\n      const key = this.detailsKey(name);\r\n      localStorage.removeItem(key);\r\n      this.savePages(pages);\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  private savePages(pages: IPage[]) {\r\n    const json = JSON.stringify(pages);\r\n    localStorage.setItem(PagesService.__key, json);\r\n    this.pages.next(pages);\r\n  }\r\n  //////////////////////////////////////////////////// STOPPED HERE.\r\n\r\n  /**\r\n   * Saves page. page.name must be unique, otherwise it will overwrite previous one.\r\n   * @param page\r\n   */\r\n  public setPage(page: IPage) {\r\n    if (page == null)\r\n      return;\r\n\r\n    const pages = this.pages.getValue();\r\n    const ind = pages instanceof Array ? pages.findIndex(x => <any>(x.name === page.name)) : -1;\r\n    if (ind >= 0)\r\n      pages[ind] = page;\r\n    else\r\n      pages.push(page);\r\n\r\n    this.savePages(pages);\r\n  }\r\n\r\n\r\n  update(name: string, details: PageDetails): boolean {\r\n    if (details instanceof PageDetails === false)\r\n      throw new Error('details argument must be of type PageDetails.');\r\n\r\n    const list = this.pages.getValue();\r\n    if (list === null || list === undefined)\r\n      return false;\r\n\r\n    name = name.toLowerCase();\r\n\r\n    const page = list.find(x => x.name === name);\r\n    if (page === null || page === undefined)\r\n      return false;\r\n\r\n    const key = this.detailsKey(name);\r\n    const json = localStorage.getItem(key);\r\n    if (typeof json !== 'string')\r\n      return false;\r\n\r\n    page.title = details.title;\r\n    this.savePages(list);\r\n    localStorage.setItem(key, JSON.stringify(details));\r\n\r\n    return true;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'enumToArray'\r\n})\r\nexport class EnumToArrayPipe implements PipeTransform {\r\n\r\n  transform(value): { value: number, name: string }[] {\r\n    return Object\r\n      .keys(value)\r\n      .filter(e => !isNaN(+e) && typeof value[e] === 'string')\r\n      .map(o => ({ value: +o, name: value[o] }));\r\n  }\r\n\r\n}\r\n","import { Component, HostListener } from '@angular/core';\r\nimport { IControlViewer, WebSocketService, WebSocketMessage, WebSocketMessageType, makeid, findIcon, BaseControlComponent } from 'src/core';\r\nimport { IKeyControl } from '../Models/IKeyControl';\r\nimport { IconDefinition } from '@fortawesome/free-solid-svg-icons';\r\nimport { KeyControlMode } from '../Models/KeyControlMode';\r\n\r\n@Component({\r\n  selector: 'rc-key',\r\n  templateUrl: './key.component.html',\r\n  styleUrls: ['./key.component.css']\r\n})\r\nexport class KeyComponent\r\n  extends BaseControlComponent\r\n  implements IControlViewer {\r\n\r\n  /**\r\n   * Data that will be sent to server on click.\r\n   */\r\n  private data: string = null;\r\n  public title: string = '';\r\n  public icon: IconDefinition = null;\r\n  public showIconWithTitle: boolean = false;\r\n  private mode: KeyControlMode = KeyControlMode.Press;\r\n  private isKeyDown: boolean = false;\r\n  private repeat?: number = 100;\r\n  private repeatHandler: any | null = null;\r\n\r\n  constructor(private webSocketService: WebSocketService) {\r\n    super();\r\n  }\r\n\r\n\r\n  load(data: IKeyControl): boolean {\r\n    this.col = ('col' in data) ? data.col : this.colMax; // TODO: use this.col somehow.\r\n\r\n    this.data = data.data;\r\n    this.title = !!data.text ? data.text : '';\r\n    this.icon = !!data.icon ? findIcon(data.icon) : null;\r\n    this.showIconWithTitle = data.iconWithText === true;\r\n    this.mode = 'mode' in data ? data.mode : KeyControlMode.Press;\r\n\r\n    const r = +data.r;\r\n    this.repeat = !isNaN(r) && r > 0 ? r : 100;\r\n\r\n    // Load all relevant data.\r\n    return true;\r\n  }\r\n\r\n  private send(action: 'key' | 'key.down' | 'key.up') {\r\n    const m = new WebSocketMessage({\r\n      a: action,\r\n      d: this.data,\r\n      t: WebSocketMessageType.Request,\r\n      h: makeid()\r\n    });\r\n\r\n    this.webSocketService.send(m);\r\n  }\r\n\r\n  @HostListener('click')\r\n  onClick() {\r\n    if (this.mode === KeyControlMode.Press)\r\n      this.send('key');\r\n  }\r\n\r\n  @HostListener('mousedown')\r\n  @HostListener('touchstart')\r\n  onTouchstart() {\r\n    if (this.isKeyDown)\r\n      return;\r\n\r\n    switch (this.mode) {\r\n      case KeyControlMode['Long press']:\r\n        this.isKeyDown = true;\r\n        this.send('key.down');\r\n        break;\r\n      case KeyControlMode.Repeatable:\r\n        this.send('key');\r\n\r\n        if (this.repeatHandler !== null) {\r\n          clearInterval(this.repeatHandler);\r\n          this.repeatHandler = null;\r\n        }\r\n        this.isKeyDown = true;\r\n        this.repeatHandler = setInterval(() => {\r\n          this.send('key');\r\n        }, this.repeat);\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseup')\r\n  @HostListener('touchend')\r\n  onTouchend() {\r\n    if (!this.isKeyDown)\r\n      return;\r\n\r\n    switch (this.mode) {\r\n      case KeyControlMode['Long press']:\r\n        this.isKeyDown = false;\r\n        this.send('key.up');\r\n        break;\r\n      case KeyControlMode.Repeatable:\r\n        if (this.repeatHandler !== null) {\r\n          this.isKeyDown = false;\r\n          clearInterval(this.repeatHandler);\r\n          this.repeatHandler = null;\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","<button\r\n  title=\"{{title}}\"\r\n  class=\"btn btn-light\">\r\n  <fa-icon *ngIf=\"!!icon\" [icon]=\"icon\" class=\"fa-3x\"></fa-icon>\r\n  <span *ngIf=\"!icon\">{{title.toUpperCase()}}</span>\r\n</button>\r\n","import { Component, HostListener, OnDestroy, OnInit } from \"@angular/core\";\r\nimport { IconDefinition } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { BaseControlComponent, IControlViewer, InformersStateService, WebSocketService, makeid, WebSocketMessage, WebSocketMessageType, findIcon } from \"src/core\";\r\nimport { ICommandControl } from \"../Models/ICommandControl\";\r\n\r\n@Component({\r\n  selector: 'rc-command',\r\n  templateUrl: './command.component.html',\r\n  styleUrls: ['./command.component.css']\r\n})\r\nexport class CommandComponent\r\n  extends BaseControlComponent\r\n  implements IControlViewer, OnInit, OnDestroy {\r\n\r\n  public isCommandAvailable: boolean = false;\r\n\r\n  private subs: Subscription[] = [];\r\n  private command: string = null;\r\n  public title: string = '';\r\n  public icon: IconDefinition = null;\r\n  public showIconWithTitle: boolean = false;\r\n\r\n\r\n  constructor(\r\n    private webSocketService: WebSocketService,\r\n    private informers: InformersStateService\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.subs.push(this.informers.Commands.subscribe(() => {\r\n      this.checkCommandAvailability();\r\n    }));\r\n    this.subs.push(this.webSocketService.isConnected.subscribe(() => {\r\n      this.checkCommandAvailability();\r\n    }));\r\n    this.webSocketService.removeMessageHandler(this.command, this.messageHandler);\r\n    if (!!this.command)\r\n      this.webSocketService.addMessageHandler(this.command, this.messageHandler);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subs.forEach(x => x.unsubscribe());\r\n    this.webSocketService.removeMessageHandler(this.command, this.messageHandler);\r\n  }\r\n\r\n  load(data: ICommandControl): boolean {\r\n    if (!data) {\r\n      return;\r\n    }\r\n\r\n\r\n    this.webSocketService.removeMessageHandler(this.command, this.messageHandler);\r\n    this.command = !!data.command ? data.command : null;\r\n    if (!!this.command)\r\n      this.webSocketService.addMessageHandler(this.command, this.messageHandler);\r\n\r\n    this.title = !!data.text ? data.text : '';\r\n    this.icon = !!data.icon ? findIcon(data.icon) : null;\r\n    this.showIconWithTitle = data.iconWithText === true;\r\n\r\n    this.checkCommandAvailability();\r\n\r\n    return true;\r\n  }\r\n\r\n  private messageHandler = (msg: WebSocketMessage) => {\r\n    if (msg.ActionName !== this.command)\r\n      return;\r\n    if (msg.Type !== WebSocketMessageType.Response)\r\n      return;\r\n\r\n    alert(`Command '${this.command}' executed. Result: \\r\\n ${msg.Data}`);\r\n  }\r\n\r\n  private send() {\r\n    if (!this.isCommandAvailable)\r\n      return;\r\n\r\n    const m = new WebSocketMessage({\r\n      a: this.command,\r\n      //d: null,\r\n      t: WebSocketMessageType.Request,\r\n      h: makeid()\r\n    });\r\n\r\n    this.webSocketService.send(m);\r\n  }\r\n\r\n  private checkCommandAvailability(): void {\r\n    if (!this.command ||\r\n      !this.webSocketService.isConnected.getValue()) {\r\n      this.isCommandAvailable = false;\r\n      return;\r\n    }\r\n\r\n    var commands = this.informers.Commands.getValue();\r\n\r\n    if (!commands) {\r\n      this.isCommandAvailable = false;\r\n      return;\r\n    }\r\n\r\n    this.isCommandAvailable = commands?.Commands.indexOf(this.command) >= 0;\r\n  }\r\n\r\n  @HostListener('click')\r\n  onClick() {\r\n    this.send();\r\n  }\r\n}\r\n","<button\r\n  [disabled]=\"!isCommandAvailable\"\r\n  [title]=\"!isCommandAvailable ? 'Command is not available' : title\"\r\n  class=\"btn btn-light\">\r\n  <fa-icon *ngIf=\"!!icon\" [icon]=\"icon\" class=\"fa-3x\"></fa-icon>\r\n  <span *ngIf=\"showIconWithTitle\">{{title.toUpperCase()}}</span>\r\n</button>\r\n","import { WebSocketMessageType } from './WebSocketMessageType';\r\n\r\nexport class WebSocketMessage {\r\n  private __Type: WebSocketMessageType = WebSocketMessageType.Request;\r\n  private __ActionName: string = null;\r\n  private __Hash: string = null;\r\n  private __Data: any = null;\r\n\r\n  constructor(data?: {\r\n    t: WebSocketMessageType,\r\n    a: string,\r\n    h?: string,\r\n    d?: any\r\n  }) {\r\n    if (!!data) {\r\n      this.Type = data.t;\r\n      this.ActionName = !!data.a ? data.a : null;\r\n      this.Hash = !!data.h ? data.h : null;\r\n      this.Data = !!data.d ? data.d : null;\r\n    }\r\n  }\r\n\r\n  static parse(object: any): WebSocketMessage {\r\n    if (object instanceof Object === false)\r\n      return null;\r\n\r\n    const rv = new WebSocketMessage({\r\n      t: object.Type,\r\n      a: object.ActionName,\r\n      h: object.Hash,\r\n      d: object.Data\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  get Type(): WebSocketMessageType {\r\n    return this.__Type;\r\n  }\r\n  set Type(value: WebSocketMessageType) {\r\n    this.__Type = value;\r\n  }\r\n\r\n  get ActionName(): string {\r\n    return this.__ActionName;\r\n  }\r\n  set ActionName(value: string) {\r\n    this.__ActionName = value;\r\n  }\r\n\r\n  get Hash(): string {\r\n    return this.__Hash;\r\n  }\r\n  set Hash(value: string) {\r\n    this.__Hash = value;\r\n  }\r\n\r\n  get Data(): any {\r\n    return this.__Data;\r\n  }\r\n  set Data(value: any) {\r\n    this.__Data = value;\r\n  }\r\n\r\n  toDto(): Object {\r\n    const rv = {\r\n      Type: this.Type,\r\n      ActionName: this.ActionName,\r\n      Hash: this.Hash,\r\n      Data: this.Data\r\n    };\r\n    return rv;\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter, HostBinding } from '@angular/core';\r\nimport { IControl } from 'src/core';\r\nimport { ColumnClassNamePipe } from 'src/core';\r\n\r\n@Component({\r\n  selector: 'rc-control-editor-view',\r\n  templateUrl: './control-editor-view.component.html',\r\n  styleUrls: ['./control-editor-view.component.css']\r\n})\r\nexport class ControlEditorViewComponent {\r\n  private _control: IControl = null;\r\n\r\n  get control(): IControl {\r\n    return this._control;\r\n  }\r\n\r\n  @Input()\r\n  set control(value: IControl) {\r\n    this._control = !!value ? value : null;\r\n  }\r\n\r\n  @Output()\r\n  public openEditor = new EventEmitter(true);\r\n\r\n  public onClick() {\r\n    this.openEditor.emit();\r\n  }\r\n}\r\n","<rc-control-view\r\n[control]=\"control\"\r\n[style.width.%]=\"'100'\"\r\n></rc-control-view>\r\n\r\n<button\r\n  class=\"btn btn-secondary overlay\"\r\n  (click)=\"onClick();\"\r\n  >\r\n</button>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { PagesService } from 'src/core';\r\n\r\n@Component({\r\n  selector: 'rc-page-create',\r\n  templateUrl: 'page-create.component.html',\r\n  styleUrls: ['./page-create.component.css']\r\n})\r\n\r\nexport class PageCreateComponent implements OnInit {\r\n  title = '';\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private pagesService: PagesService\r\n  ) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  create() {\r\n    console.log('Create: ', this);\r\n    if (!this.title || this.title.trim().length === 0) {\r\n      return;\r\n    }\r\n\r\n    const details = this.pagesService.create(this.title);\r\n    console.log('Created: ', details);\r\n\r\n    this.navigateToPage();\r\n  }\r\n\r\n  navigateToPage() {\r\n    this.router.navigate(['/', 'p', this.title]);\r\n  }\r\n}\r\n","<!-- <h3>Create page</h3> -->\r\n\r\n<div class=\"form-group\">\r\n  <input [(ngModel)]=\"title\" (keydown.enter)=\"create()\" autofocus placeholder=\"Title\" class=\"form-control form-control-lg\" />\r\n</div>\r\n\r\n<div>\r\n  <button class=\"btn\">Add control</button>\r\n  <button (click)=\"create()\" class=\"btn btn-primary\">Create</button>\r\n</div>\r\n","export const environment = {\r\n    production: false,\r\n    port: 443\r\n};\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CoreModule, ControlsService, ControlRegistration } from 'src/core';\r\nimport { KeyComponent } from './key-component/key.component';\r\nimport { KeyEditorComponent } from './key-editor-component/key-editor.component';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    KeyComponent,\r\n    KeyEditorComponent,\r\n  ],\r\n  imports: [\r\n    FontAwesomeModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    CoreModule\r\n  ],\r\n  exports: [\r\n    KeyComponent,\r\n    KeyEditorComponent\r\n  ]\r\n})\r\nexport class KeyModule {\r\n  constructor(controls: ControlsService) {\r\n    const reg: ControlRegistration = {\r\n      name: KeyModule.controlKey,\r\n      title: 'Key',\r\n      viewType: KeyComponent,\r\n      editType: KeyEditorComponent\r\n    };\r\n\r\n    controls.register(reg);\r\n  }\r\n\r\n  static readonly controlKey: string = 'key';\r\n\r\n  static forRoot(): ModuleWithProviders<KeyModule> {\r\n    return {\r\n      ngModule: KeyModule,\r\n      providers: [\r\n      ]\r\n    };\r\n  }\r\n}\r\n","export * from './file-system.module';\r\nexport * from './file-system-component/file-system.component';\r\nexport * from './file-system-editor-component/file-system-editor.component';\r\nexport * from './Models/IFileSystemControl';\r\nexport * from './Models/IFileSystemList';\r\nexport * from './Services/file-system-paths.service';\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Subscription } from 'rxjs';\r\nimport { WebSocketMessage } from '../models/WebSocketMessage';\r\nimport { WebSocketService } from './web-socket.service';\r\nimport { WebSocketMessageType } from '../models/WebSocketMessageType';\r\nimport { makeid } from '../utils/makeid';\r\nimport { IInformerSound } from '../models/IInformerSound';\r\nimport { IInformerCommands } from '../models/IInformerCommands';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class InformersStateService {\r\n\r\n  public Sound: BehaviorSubject<IInformerSound>;\r\n  public Commands: BehaviorSubject<IInformerCommands>;\r\n\r\n  private handlers: { [action: string]: (msg: WebSocketMessage) => void };\r\n\r\n  constructor(private service: WebSocketService) {\r\n    this.handlers = {\r\n      'Informer.Sound': (msg) => this.onSound(msg),\r\n      'Informer.Commands': (msg) => this.onCommands(msg),\r\n    };\r\n    this.Sound = new BehaviorSubject<IInformerSound>(null);\r\n    this.Commands = new BehaviorSubject<IInformerCommands>(null);\r\n\r\n    this.proceedHandlers();\r\n    this.checkServer();\r\n  }\r\n\r\n  private proceedHandlers() {\r\n    for (const action in this.handlers) {\r\n      if (!this.handlers.hasOwnProperty(action))\r\n        continue;\r\n\r\n      const handler = this.handlers[action];\r\n      this.service.addMessageHandler(action, handler);\r\n    }\r\n  }\r\n\r\n  private onSound(msg: WebSocketMessage) {\r\n    if (!!msg.Data)\r\n      this.Sound.next(<IInformerSound>msg.Data);\r\n  }\r\n\r\n  private onCommands(msg: WebSocketMessage): void {\r\n    if (!!msg.Data)\r\n      this.Commands.next(<IInformerCommands>msg.Data);\r\n  }\r\n\r\n  private checkServer() {\r\n    if (!this.service.isConnected.getValue())\r\n      return;\r\n\r\n    for (const action in this.handlers) {\r\n      if (!this.handlers.hasOwnProperty(action))\r\n        continue;\r\n\r\n      const m = new WebSocketMessage({\r\n        a: action,\r\n        t: WebSocketMessageType.Request,\r\n        h: makeid()\r\n      });\r\n\r\n      this.service.send(m);\r\n    }\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'enumToArray' })\r\nexport class EnumToArrayPipe implements PipeTransform {\r\n  transform(value): Object {\r\n    return Object.keys(value)\r\n    .filter(e => !isNaN(+e))\r\n    .map(o => ({ index: +o, name: value[o] }));\r\n  }\r\n}\r\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\r\nimport { IconDefinition } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { findIcon, IControl, IControlEditor, InformersStateService } from \"src/core\";\r\nimport { ICommandControl } from \"../Models/ICommandControl\";\r\n\r\n@Component({\r\n  selector: 'rc-command-editor',\r\n  templateUrl: './command-editor.component.html',\r\n  styleUrls: ['./command-editor.component.css']\r\n})\r\nexport class CommandEditorCompoent\r\n  implements IControlEditor, OnInit, OnDestroy {\r\n\r\n  private subs: Subscription[] = [];\r\n  public commands: string[] = [];\r\n\r\n  public data: ICommandControl = null;\r\n  public command: string = null;\r\n  public icon: IconDefinition = null;\r\n  public showIconPicker: boolean = false;\r\n  public text: string = null;\r\n  public iconWithText: boolean = false;\r\n\r\n  constructor(\r\n    private informers: InformersStateService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.subs.push(this.informers.Commands.subscribe(value => {\r\n      if (!value) {\r\n        this.commands = [];\r\n        this.command = null;\r\n        return;\r\n      }\r\n\r\n      this.commands = value.Commands;\r\n      if (this.command != null && this.commands.indexOf(this.command) < 0)\r\n        this.command = null;\r\n    }));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subs.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  load(data: ICommandControl): boolean {\r\n    if (!!data) {\r\n      this.data = data;\r\n      this.command = data.command;\r\n      this.icon = !!data.icon ? findIcon(data.icon) : null;\r\n      this.text = 'text' in data ? data.text : null;\r\n      this.iconWithText = 'iconWithText' in data ? data.iconWithText : false;\r\n\r\n    } else {\r\n      this.data = null;\r\n      this.command = null;\r\n      this.icon = null;\r\n      this.text = null;\r\n      this.iconWithText = false;\r\n    }\r\n    this.showIconPicker = false;\r\n    return true;\r\n  }\r\n\r\n  save(): IControl {\r\n    if (!!this.command) {\r\n      this.data.command = this.command;\r\n      this.data.icon = !!this.icon ? this.icon.iconName : null;\r\n      this.data.text = this.text;\r\n      this.data.iconWithText = this.iconWithText;\r\n    }\r\n    return this.data;\r\n  }\r\n\r\n  onCommandChange(data: string){\r\n    //TODO: Check if data is null or in `commands`.\r\n    this.command = data;\r\n  }\r\n\r\n  changeIcon(icon: IconDefinition) {\r\n    this.icon = icon;\r\n    this.showIconPicker = false;\r\n  }\r\n}\r\n","<div [hidden]=\"!!showIconPicker\">\r\n  <rc-control-column-editor *ngIf=\"!!data\" [(value)]=\"data.col\"></rc-control-column-editor>\r\n\r\n  <div class=\"form-group\" *ngIf=\"!!data\">\r\n    <label>Command</label>\r\n    <select\r\n      [ngModel]=\"command\"\r\n      (ngModelChange)=\"onCommandChange($event)\"\r\n      class=\"form-control\">\r\n      <option *ngFor=\"let x of commands\" [ngValue]='x'>{{x}}</option>\r\n    </select>\r\n  </div>\r\n\r\n  <div class=\"form-group\" *ngIf=\"!!data\">\r\n    <label>\r\n      <input\r\n        type=\"checkbox\"\r\n        [checked]=\"iconWithText\"\r\n        (change)=\"iconWithText = !iconWithText\"/>\r\n      With text\r\n    </label>\r\n  </div>\r\n\r\n  <div class=\"form-group\" *ngIf=\"!!iconWithText\">\r\n    <label>\r\n      Text\r\n    </label>\r\n    <input\r\n      type=\"text\"\r\n      class=\"form-control\"\r\n      [(ngModel)]=\"text\" />\r\n    </div>\r\n\r\n  <div class=\"form-group\" *ngIf=\"!!data\">\r\n    <label class=\"col-3\">\r\n      Icon:\r\n    </label>\r\n    <span class=\"col-3\">\r\n      <fa-icon *ngIf=\"!!icon\" [icon]=\"icon\" class=\"fa-lg\"></fa-icon>\r\n      <span *ngIf=\"!icon\">None</span>\r\n    </span>\r\n    <button class=\"btn btn-primary col-6\" (click)=\"showIconPicker = true\">Change</button>\r\n  </div>\r\n</div>\r\n\r\n<rc-icon-selector\r\n  [hidden]=\"!showIconPicker\"\r\n  showEmpty='true'\r\n  [icon]=\"icon\"\r\n  (iconChange)='changeIcon($event)'\r\n></rc-icon-selector>\r\n","import { from } from 'rxjs';\r\n\r\nexport * from './command.module';\r\nexport * from './Models/ICommandControl';\r\nexport * from './command-component/command.component';\r\nexport * from './command-editor-component/command-editor.component';\r\n","import { AfterContentInit, Directive, ElementRef, Input } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[autoFocus]'\r\n})\r\nexport class AutoFocusDirective implements AfterContentInit {\r\n\r\n    @Input() public appAutoFocus: boolean;\r\n\r\n    public constructor(private el: ElementRef) {\r\n\r\n    }\r\n\r\n    public ngAfterContentInit() {\r\n\r\n        setTimeout(() => {\r\n\r\n            this.el.nativeElement.focus();\r\n\r\n        }, 500);\r\n\r\n    }\r\n\r\n}\r\n","export enum KeyControlMode {\r\n  Press = 0,\r\n  'Long press' = 1,\r\n  Repeatable = 2\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'rc-control-column-editor',\r\n  templateUrl: './control-column-editor.component.html',\r\n  styleUrls: ['./control-column-editor.component.css']\r\n})\r\nexport class ControlColumnEditorComponent implements OnInit, OnDestroy {\r\n  private _value: number = 1;\r\n  private _min: number = 1;\r\n  private _max: number = 12;\r\n  private initialized = false;\r\n\r\n  /**\r\n   * Columns count\r\n   */\r\n  get value() {\r\n    return this._value;\r\n  }\r\n  /**\r\n   * Columns count\r\n   */\r\n  @Input()\r\n  set value(v) {\r\n    v = parseInt(<any>v, 10);\r\n    if (isNaN(v) || v > this.max) {\r\n      v = this.min;\r\n    } else if (v < this.min)\r\n      v = this.min;\r\n\r\n    this._value = v;\r\n    if (this.initialized)\r\n      this.valueChange.emit(v);\r\n  }\r\n  @Output() valueChange = new EventEmitter<number>();\r\n\r\n  get min() {\r\n    return this._min;\r\n  }\r\n  set min(v: number) {\r\n    if (typeof v !== 'number') {\r\n      v = parseInt(<any>v, 10);\r\n    }\r\n    if (isNaN(v))\r\n      return;\r\n\r\n    this._min = v;\r\n    this.value = this.value; // In case value outside boudaries\r\n  }\r\n\r\n  get max() {\r\n    return this._max;\r\n  }\r\n  set max(v: number) {\r\n    if (typeof v !== 'number') {\r\n      v = parseInt(<any>v, 10);\r\n    }\r\n    if (isNaN(v))\r\n      return;\r\n\r\n    this._max = v;\r\n    this.value = this.value; // In case value outside boudaries\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.initialized = true;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.initialized = false;\r\n  }\r\n}\r\n","<div class=\"form-group\">\r\n  <label >Columns</label>\r\n  <input type=\"number\"\r\n    autofocus\r\n    class=\"form-control\"\r\n    [value]='value'\r\n    (input)='value = $event.target.value'\r\n    [min]='min'\r\n    [max]='max'\r\n    />\r\n</div>\r\n","import { Component, OnInit, OnDestroy, ChangeDetectorRef } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { IFileSystemList } from 'src/file-system/Models/IFileSystemList';\r\nimport * as Icons from '@fortawesome/free-solid-svg-icons';\r\nimport { WebSocketMessage, WebSocketService, WebSocketMessageType, makeid, BaseControlComponent, IControlViewer } from 'src/core';\r\nimport { IFileSystemControl } from '../Models/IFileSystemControl';\r\nimport { FileSystemPathsService } from '../Services/file-system-paths.service';\r\n\r\n@Component({\r\n  selector: 'rc-file-system',\r\n  templateUrl: './file-system.component.html',\r\n  styleUrls: ['./file-system.component.css']\r\n})\r\nexport class FileSystemComponent\r\n  extends BaseControlComponent\r\n  implements IControlViewer, OnInit, OnDestroy {\r\n\r\n  private messageHandlers: { [action: string]: (msg: WebSocketMessage) => void } = null;\r\n  private subscription: Subscription;\r\n  private initialized: boolean = false;\r\n  private id: string;\r\n  private socketId: string;\r\n\r\n  public files: { url: string, title: string }[] = null;\r\n  public folders: { url: string, title: string }[] = null;\r\n  public paths: { url: string, title: string }[] = null;\r\n  public path: string = '';\r\n\r\n  public maxHeight: number = 0;\r\n  public iconFolder: Icons.IconDefinition = Icons.faFolder;\r\n  public iconFile: Icons.IconDefinition = Icons.faFile;\r\n\r\n  constructor(\r\n    private service: WebSocketService,\r\n    private pathsService: FileSystemPathsService) {\r\n    super();\r\n\r\n    this.messageHandlers = {\r\n      'FileSystem.List': (m) => this.onFileSystemList(m)\r\n    };\r\n    this.socketId = this.pathsService.generateId();\r\n  }\r\n\r\n  ngOnInit() {\r\n    for (const action in this.messageHandlers) {\r\n      if (!this.messageHandlers.hasOwnProperty(action))\r\n        continue;\r\n\r\n      const handler = this.messageHandlers[action];\r\n      this.service.addMessageHandler(action, handler);\r\n    }\r\n\r\n    this.subscription = this.service.isConnected.subscribe(value => {\r\n      if (!value)\r\n        return;\r\n\r\n      this.goToPath(!!this.path ? this.path : '');\r\n    });\r\n\r\n    this.initialized = true;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.initialized = false;\r\n    this.subscription.unsubscribe();\r\n    for (const action in this.messageHandlers) {\r\n      if (!this.messageHandlers.hasOwnProperty(action))\r\n        continue;\r\n\r\n      const handler = this.messageHandlers[action];\r\n      this.service.removeMessageHandler(action, handler);\r\n    }\r\n  }\r\n\r\n  public load(data: IFileSystemControl): boolean {\r\n    this.col = ('col' in data) ? data.col : this.colMax; // TODO: use this.col somehow.\r\n\r\n    this.id = data.id;\r\n    this.maxHeight = data.maxHeight > 0 ? data.maxHeight : 0;\r\n    this.socketId = !!this.id ? this.id : this.pathsService.generateId();\r\n\r\n    // Path for control is loaded only if control has unique id.\r\n    this.path = !!this.id ? this.pathsService.getPath(this.id) : '';\r\n    if (!!this.path && this.initialized)\r\n      this.goToPath(this.path);\r\n\r\n    // TODO\r\n    return true;\r\n  }\r\n\r\n  onFileSystemList(m: WebSocketMessage): void {\r\n    if (!m || !m.Hash || !m.Hash.startsWith(this.socketId))\r\n      return;\r\n\r\n    if (m.Type === WebSocketMessageType.Response) {\r\n      const r = <IFileSystemList>m.Data;\r\n      if (r === null || r === undefined) {\r\n        this.goToPath('');\r\n        return;\r\n      }\r\n      this.path = !!r.path ? r.path.join('\\\\') : '';\r\n      const path = !!this.path ? this.path + '\\\\' : '';\r\n      const map = (x: string) => {\r\n        return {\r\n          url: path + x,\r\n          title: x\r\n        };\r\n      };\r\n\r\n      this.files = !!r.files ? r.files.map(map) : [];\r\n      this.folders = !!r.folders ? r.folders.map(map) : [];\r\n      this.paths = !!r.path ? r.path.map((x, i, arr) => {\r\n        const p = arr.slice(0, i + 1);\r\n        return {\r\n          url: p.join('\\\\'),\r\n          title: x\r\n        };\r\n      }) : [];\r\n      this.paths.unshift({ url: '', title: '..' });\r\n\r\n      if (!!this.id) // Save path only if unique id is specified.\r\n        this.pathsService.setPath(this.id, this.path);\r\n    }\r\n  }\r\n\r\n  goToPath(url: string) {\r\n    const m = new WebSocketMessage({\r\n      a: 'FileSystem.List',\r\n      t: WebSocketMessageType.Request,\r\n      h: `${this.socketId}-${makeid()}`,\r\n      d: url\r\n    });\r\n    this.service.send(m);\r\n  }\r\n\r\n  exec(url: string) {\r\n    const m = new WebSocketMessage({\r\n      a: 'FileSystem.Exec',\r\n      t: WebSocketMessageType.Request,\r\n      h: `${this.socketId}-${makeid()}`,\r\n      d: url\r\n    });\r\n    this.service.send(m);\r\n  }\r\n}\r\n","<div\r\n  class='root'\r\n  [style.maxHeight.px]=\"maxHeight > 0 ? maxHeight : ''\"\r\n  >\r\n\r\n  <nav aria-label=\"breadcrumb\">\r\n    <ol class=\"breadcrumb\">\r\n      <li\r\n        *ngFor=\"let x of paths\"\r\n        class=\"breadcrumb-item\">\r\n        <a (click)='goToPath(x.url);' href=\"javascript:void(0);\">{{x.title}}</a>\r\n      </li>\r\n    </ol>\r\n  </nav>\r\n\r\n  <div id=\"folders\" class=\"no-selection\">\r\n    <a *ngFor=\"let x of folders\" (click)='goToPath(x.url)'>\r\n      <fa-icon [icon]='iconFolder'></fa-icon>\r\n      {{x.title}}\r\n    </a>\r\n  </div>\r\n  <div class=\"border\"></div>\r\n\r\n  <div id=\"files\" class=\"no-selection\">\r\n    <a *ngFor=\"let x of files\" (click)='exec(x.url)'>\r\n      <fa-icon [icon]='iconFile'></fa-icon>\r\n      {{x.title}}\r\n    </a>\r\n  </div>\r\n  <div class=\"border\"></div>\r\n</div>\r\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild } from '@angular/core';\r\nimport { IControl, ControlsService, IControlEditor } from 'src/core';\r\nimport { ControlHostDirective } from 'src/app/directives/control-host/control-host.directive';\r\n\r\n@Component({\r\n  selector: 'rc-control-editor',\r\n  templateUrl: './control-editor.component.html',\r\n  styleUrls: ['./control-editor.component.css']\r\n})\r\nexport class ControlEditorComponent implements OnInit {\r\n  private _control: IControl = null;\r\n  private _editor: IControlEditor = null;\r\n  public data: IControl = null;\r\n\r\n  @ViewChild(ControlHostDirective, { static: true }) host: ControlHostDirective;\r\n\r\n  public get control() {\r\n    return this._control;\r\n  }\r\n  public set control(value: IControl) {\r\n    if (!value)\r\n      value = null;\r\n\r\n    this._control = value;\r\n    this.data = !!value ? Object.assign({}, value) : null;\r\n  }\r\n\r\n  @Input() showDelete: boolean = true;\r\n  @Input() textSave = 'Save';\r\n\r\n  @Output() cancel = new EventEmitter(true);\r\n  @Output() save = new EventEmitter<{ orig: IControl, changed: IControl }>(true);\r\n  @Output() delete = new EventEmitter<IControl>(true);\r\n\r\n  constructor(\r\n    private controlsService: ControlsService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  public load(control: IControl) {\r\n    console.log('Loading control editor for', control);\r\n    this.control = control;\r\n\r\n    this.showTypedEditor();\r\n  }\r\n\r\n  private showTypedEditor() {\r\n    const ref = this.host.viewContainerRef;\r\n    ref.clear();\r\n    if (!this.control)\r\n      return;\r\n\r\n    const editors = this.controlsService.editors(ref, [this.data]);\r\n    this._editor = editors.length > 0 && !!editors[0] ? editors[0] : null;\r\n  }\r\n\r\n  submit(save: boolean) {\r\n    // tslint:disable-next-line: triple-equals\r\n    save = save == true;\r\n\r\n    const c = this.control;\r\n    this.control = null;\r\n    if (!save) {\r\n      this.cancel.emit();\r\n      return;\r\n    }\r\n\r\n    console.log(this._editor);\r\n    const data = !!this._editor ? this._editor.save() : null;\r\n    this.save.emit({ orig: c, changed: data });\r\n  }\r\n\r\n  deleteAction() {\r\n    if (!this.control)\r\n      return;\r\n\r\n    const c = this.control;\r\n    this.control = null;\r\n    this.delete.emit(c);\r\n  }\r\n}\r\n","<section [hidden]='!data'>\r\n  <main>\r\n    <p>Edit control: {{ control?.name }}</p>\r\n    <ng-template rcControlHost></ng-template>\r\n  </main>\r\n  <footer>\r\n    <div class=\"container-fluid control-editor-controls\">\r\n      <div\r\n        [class.col-4]=\"showDelete\"\r\n        [class.col-6]=\"!showDelete\">\r\n        <button\r\n          class=\"btn btn-lg btn-secondary\"\r\n          (click)=\"submit(false)\">\r\n          Cancel\r\n        </button>\r\n      </div>\r\n      <div\r\n        *ngIf=\"showDelete\"\r\n        class=\"col-4\">\r\n        <button\r\n          *ngIf=\"showDelete\"\r\n          class=\"btn btn-lg btn-danger\"\r\n          (click)='deleteAction()'>\r\n          Delete\r\n        </button>\r\n      </div>\r\n      <div\r\n        [class.col-4]=\"showDelete\"\r\n        [class.col-6]=\"!showDelete\">\r\n        <button\r\n          class=\"btn btn-lg btn-primary\"\r\n          (click)=\"submit(true)\">\r\n          {{textSave}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </footer>\r\n\r\n</section>\r\n","import { Input, Directive } from '@angular/core';\r\n\r\n@Directive()\nexport class BaseControlComponent {\r\n  private _col: number = 12;\r\n  protected colMax: number = 12;\r\n  protected colMin: number = 1;\r\n\r\n  public get col(): number {\r\n    return this._col;\r\n  }\r\n\r\n  @Input('col')\r\n  public set col(v: number) {\r\n    if (typeof v !== 'number')\r\n      v = <any>parseInt(<any>v, 10);\r\n    if (<number>v !== 0 && !v)\r\n      return;\r\n    if (v < this.colMin)\r\n      v = this.colMin;\r\n    if (v > this.colMax)\r\n      v = this.colMax;\r\n    this._col = parseInt(<any>v, 10);\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { from } from 'rxjs';\r\nimport { WebSocketService } from 'src/core';\r\nimport { WakeLockSentinel, Navigator } from 'src/@types/WakeLock'\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'app';\r\n\r\n  constructor(private service: WebSocketService) {\r\n    window.addEventListener('focus', e => {\r\n      if (this.service.isConnected.getValue())\r\n        return;\r\n\r\n      this.service.open();\r\n    });\r\n  }\r\n}\r\n","<section>\r\n  <header>\r\n    <rc-nav-menu class=\"rc-flex-header\"></rc-nav-menu>\r\n  </header>\r\n  <main>\r\n    <router-outlet></router-outlet>\r\n  </main>\r\n</section>\r\n","export * from './volume.module';\r\nexport * from './volume-component/volume.component';\r\nexport * from './volume-editor-component/volume-editor.component';\r\n","export function makeid(length = 5) {\r\n  let text = '';\r\n  const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n  for (let i = 0; i < length; i++)\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n  return text;\r\n}\r\n","export * from './core.module';\r\nexport * from './components/BaseControlComponent';\r\nexport * from './components/control-column-editor/control-column-editor.component';\r\nexport * from './components/icon-selector/icon-selector.component';\r\nexport * from './directives/auto-focus.directive';\r\nexport * from './models/ControlRegistration';\r\nexport * from './models/IControl';\r\nexport * from './models/IControlEditor';\r\nexport * from './models/IControlViewer';\r\nexport * from './models/IPage';\r\nexport * from './models/IInformerSound';\r\nexport * from './models/PageDetails';\r\nexport * from './models/WebSocketMessage';\r\nexport * from './models/WebSocketMessageType';\r\nexport * from './services/controls.service';\r\nexport * from './services/informers-state.service';\r\nexport * from './services/pages.service';\r\nexport * from './services/wake-lock.service';\r\nexport * from './services/web-socket.service';\r\nexport * from './utils/findIcon';\r\nexport * from './utils/makeid';\r\nexport * from './pipes/column-class-name.pipe';\r\nexport * from './pipes/EnumToArrayPipe';\r\n","import { Injectable } from '@angular/core';\r\nimport { makeid } from 'src/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FileSystemPathsService {\r\n  private static readonly key = 'rc.filesystem.paths';\r\n  private data: { [id: string]: string } = null;\r\n\r\n  constructor() {\r\n    this.reload();\r\n  }\r\n\r\n  /**\r\n   * Relaods data from local storage.\r\n   *\r\n   * @private\r\n   * @memberof FileSystemPathsService\r\n   */\r\n  private reload() {\r\n    const s = localStorage.getItem(FileSystemPathsService.key);\r\n    if (s !== null) {\r\n      const d = JSON.parse(s);\r\n      const data: { [id: string]: string } = {};\r\n      for (const key in d) {\r\n        if (d.hasOwnProperty(key)) {\r\n          const element = d[key];\r\n          if (typeof element === 'string')\r\n            data[key] = element;\r\n        }\r\n      }\r\n      this.data = data;\r\n    } else {\r\n      this.data = {};\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Saves current data to local storage.\r\n   *\r\n   * @private\r\n   * @returns\r\n   * @memberof FileSystemPathsService\r\n   */\r\n  private save() {\r\n    if (!this.data)\r\n      return;\r\n    localStorage.setItem(FileSystemPathsService.key, JSON.stringify(this.data));\r\n  }\r\n\r\n  /**\r\n   * Gets path for control with specified id.\r\n   *\r\n   * @param {string} id Contol unique id. Must be non-nullable string. Must be non-empty string.\r\n   * @returns {string} Saved path or null if control id previously did not saved any paths.\r\n   * @memberof FileSystemPathsService\r\n   */\r\n  public getPath(id: string): string {\r\n    if (typeof id !== 'string')\r\n      throw new Error('id param must be of type string.');\r\n    if (id.length === 0)\r\n      throw new Error('id param must be non-empty string.');\r\n\r\n    if (!this.data.hasOwnProperty(id))\r\n      return null;\r\n\r\n    return this.data[id];\r\n  }\r\n\r\n  /**\r\n   *Saves path for control with specified id.\r\n   *\r\n   * @param {string} id Control unique id. Must be non-nullable string. Must be non-empty string.\r\n   * @param {string} path Path to save. Must be non-nullable string, can be empty string.\r\n   * @memberof FileSystemPathsService\r\n   */\r\n  public setPath(id: string, path: string) {\r\n    if (typeof id !== 'string')\r\n      throw new Error('id param must be of type string.');\r\n    if (id.length === 0)\r\n      throw new Error('id param must be non-empty string.');\r\n    if (typeof path !== 'string')\r\n      throw new Error('path param must be of type string.');\r\n\r\n    this.data[id] = path;\r\n    this.save();\r\n  }\r\n\r\n  /**\r\n   * Tries to delete path for specified contol id.\r\n   *\r\n   * @param {string} id Control unique id. Must be non-nullable string. Must be non-empty string.\r\n   * @returns {boolean} Returns true if control id had previously stored path, otherwise returns false.\r\n   * @memberof FileSystemPathsService\r\n   */\r\n  public delete(id: string): boolean {\r\n    if (typeof id !== 'string')\r\n      throw new Error('id param must be of type string.');\r\n    if (id.length === 0)\r\n      throw new Error('id param must be non-empty string.');\r\n\r\n    if (!this.data.hasOwnProperty(id))\r\n      return false;\r\n\r\n    delete this.data[id];\r\n    this.save();\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Generates new unique id for control.\r\n   *\r\n   * @returns {string}\r\n   * @memberof FileSystemPathsService\r\n   */\r\n  public generateId(): string {\r\n    let id: string;\r\n    do {\r\n      id = makeid(8);\r\n    } while (this.data.hasOwnProperty(id));\r\n\r\n    return id;\r\n  }\r\n\r\n  /**\r\n   * Gets all control ids.\r\n   *\r\n   * @returns {string[]}\r\n   * @memberof FileSystemPathsService\r\n   */\r\n  public getAllIDs(): string[] {\r\n    return Object.keys(this.data);\r\n  }\r\n}\r\n","export enum WebSocketMessageType {\r\n  Request = 0,\r\n  Notification = 1,\r\n  Response = 2,\r\n  Error = 3,\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { IControlEditor, IControl } from 'src/core';\r\nimport { IFileSystemControl } from '../Models/IFileSystemControl';\r\n\r\n@Component({\r\n  selector: 'rc-file-system-editor',\r\n  templateUrl: './file-system-editor.component.html',\r\n  styleUrls: ['./file-system-editor.component.css']\r\n})\r\nexport class FileSystemEditorComponent\r\n  implements IControlEditor, OnInit {\r\n\r\n  public data: IFileSystemControl = null;\r\n  public col: number;\r\n  public id: string;\r\n  public maxHeight: number;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  load(data: IFileSystemControl): boolean {\r\n    this.data = !!data ? data : null;\r\n    this.col = !!data ? data.col : 0;\r\n    this.id = !!data ? data.id : '';\r\n    this.maxHeight = !!data && data.maxHeight > 0 ? data.maxHeight : 0;\r\n\r\n    return true;\r\n  }\r\n  save(): IFileSystemControl {\r\n    const d = this.data;\r\n    if (!!d) {\r\n      if (d.id !== this.id) {\r\n        // TODO: remove from storage if not used by others.\r\n      }\r\n\r\n      d.id = this.id;\r\n      d.col = this.col;\r\n      d.maxHeight = this.maxHeight;\r\n    }\r\n    return d;\r\n  }\r\n}\r\n","<rc-control-column-editor *ngIf=\"!!data\" [(value)]=\"col\"></rc-control-column-editor>\r\n\r\n<div class=\"form-group\">\r\n  <label>Maximum height (0 = infinity) in px</label>\r\n  <input type=\"number\"\r\n    autofocus\r\n    class=\"form-control\"\r\n    [(ngModel)]=\"maxHeight\"\r\n    min=\"0\"\r\n    step=\"5\"\r\n  />\r\n</div>\r\n\r\n<div class=\"form-group\">\r\n  <label>ID (used for sharing content between multiple contols)</label>\r\n  <input type=\"text\"\r\n    maxlength=\"20\"\r\n    class=\"form-control\"\r\n    [(ngModel)]=\"id\"\r\n  />\r\n</div>\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'columnClassName'\r\n})\r\nexport class ColumnClassNamePipe implements PipeTransform {\r\n\r\n  transform(value: number): string {\r\n    if (typeof value !== 'number' || isNaN(value) || value <= 0)\r\n      return 'col-12';\r\n\r\n    return `col-${parseInt(<any>value, 10)}`;\r\n  }\r\n\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { SortablejsModule } from 'ngx-sortablejs';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { NavMenuComponent } from './components/nav-menu/nav-menu.component';\r\n\r\nimport { PageComponent } from './components/page/page.component';\r\nimport { PageEditorComponent } from './components/page-editor/page-editor.component';\r\nimport { PageCreateComponent } from './components/page-create/page-create.component';\r\nimport { ControlHostDirective } from './directives/control-host/control-host.directive';\r\nimport { EnumToArrayPipe } from './pipes/enum-to-array.pipe';\r\nimport { CoreModule, IconSelectorComponent } from 'src/core';\r\nimport { KeyModule } from 'src/key';\r\nimport { VolumeModule } from 'src/volume';\r\nimport { FileSystemModule } from 'src/file-system';\r\nimport { CommandModule } from 'src/command';\r\nimport { ControlEditorComponent } from './components/control-editor/control-editor.component';\r\nimport { CreateControlComponent } from './components/create-control/create-control.component';\r\nimport { ControlViewComponent } from './components/control-view/control-view.component';\r\nimport { ControlEditorViewComponent } from './components/control-editor-view/control-editor-view.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    NavMenuComponent,\r\n    PageComponent,\r\n    PageEditorComponent,\r\n    PageCreateComponent,\r\n    ControlHostDirective,\r\n    EnumToArrayPipe,\r\n    ControlEditorComponent,\r\n    CreateControlComponent,\r\n    ControlViewComponent,\r\n    ControlEditorViewComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule.withServerTransition({ appId: 'ng-cli-universal' }),\r\n    FontAwesomeModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    SortablejsModule,\r\n    RouterModule.forRoot([\r\n      { path: '', component: PageCreateComponent, pathMatch: 'full' },\r\n      { path: 'create', component: PageCreateComponent },\r\n      { path: 'edit/:name', component: PageEditorComponent },\r\n      { path: 'p/:name', component: PageComponent },\r\n      { path: 'icon', component: IconSelectorComponent }\r\n    ],\r\n      { relativeLinkResolution: 'legacy' }),\r\n    CoreModule.forRoot(),\r\n    KeyModule.forRoot(),\r\n    VolumeModule.forRoot(),\r\n    FileSystemModule.forRoot(),\r\n    CommandModule.forRoot(),\r\n  ],\r\n  providers: [\r\n    EnumToArrayPipe,\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\nimport { allIcons } from 'src/core/utils/findIcon';\r\nimport { IconDefinition } from '@fortawesome/fontawesome-svg-core';\r\nimport { IconsFilterPipe } from 'src/core/pipes/IconsFilterPipe';\r\n\r\n@Component({\r\n  selector: 'rc-icon-selector',\r\n  templateUrl: './icon-selector.component.html',\r\n  styleUrls: ['./icon-selector.component.css']\r\n})\r\nexport class IconSelectorComponent\r\n  implements OnInit, OnDestroy {\r\n\r\n  private _allIcons: IconDefinition[];\r\n  private _filter: string = '';\r\n  private _showEmpty: boolean = false;\r\n\r\n  public icons: IconDefinition[] = [];\r\n\r\n  public get showEmpty(): boolean {\r\n    return this._showEmpty;\r\n  }\r\n\r\n  @Input()\r\n  public set showEmpty(value: boolean) {\r\n    if (typeof value === 'boolean') {\r\n      this._showEmpty = value;\r\n    } else if (typeof value === 'string') {\r\n      this._showEmpty = (<string>value).toLowerCase() === 'true';\r\n    } else {\r\n      this._showEmpty = !!value;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public icon: IconDefinition = null;\r\n\r\n  @Output()\r\n  public iconChange = new EventEmitter<IconDefinition>();\r\n\r\n  public get filter() {\r\n    return this._filter;\r\n  }\r\n\r\n  public set filter(value: string) {\r\n    this._filter = !!value ? value : '';\r\n    this.filterItems();\r\n  }\r\n\r\n  constructor(private filterPipe: IconsFilterPipe) { }\r\n\r\n  ngOnInit() {\r\n    this._allIcons = allIcons();\r\n    this.filterItems();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._allIcons = null;\r\n    this.filterItems();\r\n  }\r\n\r\n  filterItems() {\r\n    if (this._allIcons === null) {\r\n      this.icons = [];\r\n      return;\r\n    }\r\n\r\n    this.icons = this.filterPipe.transform(this._allIcons, this.filter);\r\n  }\r\n\r\n  selectIcon(icon: IconDefinition) {\r\n    this.iconChange.emit(!!icon ? icon : null);\r\n  }\r\n}\r\n","<div class=\"container-fluid\">\r\n  <input type=\"text\" placeholder=\"Search\" [(ngModel)]=\"filter\" class=\"form-control\" />\r\n  Found: <b>{{ icons.length + (!!showEmpty ? 1 : 0) }}</b> icons.\r\n  <div>\r\n    <div\r\n    *ngIf=\"showEmpty\"\r\n    [class.selected]=\"!icon\"\r\n    (click)='selectIcon()'\r\n    class=\"empty-icon\"></div>\r\n    <fa-icon\r\n      *ngFor=\"let item of icons\"\r\n      [class.selected]=\"icon===item\"\r\n      (click)='selectIcon(item)'\r\n      [icon]=\"item\"\r\n      [title]=\"item.iconName\"\r\n      size=\"3x\"\r\n    ></fa-icon>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild, Output, EventEmitter, Input } from '@angular/core';\r\nimport { ControlsService, IControl } from 'src/core';\r\nimport { ControlEditorComponent } from '../control-editor/control-editor.component';\r\n\r\n@Component({\r\n  selector: 'rc-create-control',\r\n  templateUrl: './create-control.component.html',\r\n  styleUrls: ['./create-control.component.css']\r\n})\r\nexport class CreateControlComponent implements OnInit {\r\n  controlTypes: { title: string; name: string; }[];\r\n\r\n  @ViewChild(ControlEditorComponent, { static: true })\r\n  public editor: ControlEditorComponent;\r\n\r\n  @Input() type: string = null;\r\n  @Output() cancel = new EventEmitter(true);\r\n  @Output() submit = new EventEmitter<IControl>(true);\r\n\r\n  constructor(public controlsService: ControlsService) { }\r\n\r\n  ngOnInit() {\r\n    this.controlTypes = this.controlsService.getAvailable();\r\n  }\r\n\r\n  typeChanged(name: string) {\r\n    this.editor.load({ name: name, col: 12 });\r\n  }\r\n\r\n  onSave(data: { orig: IControl, changed: IControl }) {\r\n    if (!data || !data.changed)\r\n      return;\r\n\r\n    this.submit.emit(data.changed);\r\n  }\r\n\r\n  onCancel() {\r\n    this.cancel.emit();\r\n  }\r\n}\r\n","<section>\r\n  Control type:\r\n  <select [ngModel]=\"type\" (ngModelChange)=\"typeChanged($event)\" class=\"form-control\">\r\n    <option *ngFor=\"let x of controlTypes\" [ngValue]='x.name'>{{x.title}}</option>\r\n  </select>\r\n\r\n  <main\r\n    [hidden]='!!editor.data'></main>\r\n\r\n  <button\r\n    [hidden]='!!editor.data'\r\n    class=\"btn btn-lg btn-secondary\"\r\n    (click)='onCancel()'>Cancel</button>\r\n\r\n  <main [hidden]=\"!editor.data\">\r\n    <rc-control-editor\r\n      [showDelete]='false'\r\n      [textSave]=\"'Add'\"\r\n      (cancel)=\"onCancel()\"\r\n      (save)=\"onSave($event)\"\r\n      ></rc-control-editor>\r\n  </main>\r\n</section>\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"crnd\";","import { Injectable, Type, ViewContainerRef, ComponentFactoryResolver } from '@angular/core';\r\nimport { IControlViewer } from '../models/IControlViewer';\r\nimport { IControlEditor } from '../models/IControlEditor';\r\nimport { IControl } from '../models/IControl';\r\nimport { ControlRegistration } from '../models/ControlRegistration';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ControlsService {\r\n\r\n  private _registrations: ControlRegistration[] = [];\r\n\r\n  constructor(\r\n    private componentFactoryResolver: ComponentFactoryResolver\r\n  ) { }\r\n\r\n  public register(registration: ControlRegistration) {\r\n    if (!registration)\r\n      throw new Error('registration is not provided.');\r\n      if (typeof registration.name !== 'string')\r\n      throw new Error('name parameter must be of type string.');\r\n\r\n    if (!!this._registrations.find(x => x.name === registration.name))\r\n      throw new Error('name already in use.');\r\n\r\n    if (typeof registration.title !== 'string' || registration.title.trim().length === 0)\r\n      throw new Error('title parameter must be non whitespace string.');\r\n\r\n    this._registrations.push(registration);\r\n  }\r\n\r\n  public views(ref: ViewContainerRef, items: IControl[]): IControlViewer[] {\r\n    if (!ref || !items)\r\n      return [];\r\n\r\n    ref.clear();\r\n    const rv = [];\r\n    items.forEach(item => {\r\n      const control = this.generateView(ref, item);\r\n      if (!!control)\r\n        rv.push(control);\r\n    });\r\n\r\n    return rv;\r\n  }\r\n\r\n  public view(ref: ViewContainerRef, item: IControl): IControlViewer {\r\n    if (!ref || !item)\r\n      return null;\r\n\r\n    ref.clear();\r\n    const control = this.generateView(ref, item);\r\n    return control;\r\n  }\r\n\r\n  private generateView(ref: ViewContainerRef, item: IControl): IControlViewer {\r\n    if (!ref || !item)\r\n      return null;\r\n\r\n    const r = this._registrations.find(x => x.name === item.name);\r\n    if (!r)\r\n      return null;\r\n\r\n    const f = this.componentFactoryResolver.resolveComponentFactory(r.viewType);\r\n    const c = ref.createComponent(f);\r\n    const control = c.instance;\r\n\r\n    control.load(item);\r\n    return control;\r\n  }\r\n\r\n  public editors(ref: ViewContainerRef, items: IControl[]): IControlEditor[] {\r\n    if (!ref || !items)\r\n      return [];\r\n\r\n    const rv = [];\r\n    items.forEach(item => {\r\n      const control = this.generateEditor(ref, item);\r\n      if (!!control)\r\n        rv.push(control);\r\n    });\r\n\r\n    return rv;\r\n  }\r\n\r\n  public editor(ref: ViewContainerRef, item: IControl): IControlEditor {\r\n    if (!ref || !item)\r\n      return null;\r\n\r\n    ref.clear();\r\n    const control = this.generateEditor(ref, item);\r\n    return control;\r\n  }\r\n\r\n  private generateEditor(ref: ViewContainerRef, item: IControl): IControlEditor {\r\n    if (!ref || !item)\r\n      return null;\r\n\r\n    const r = this._registrations.find(x => x.name === item.name);\r\n    if (!r)\r\n      return null;\r\n\r\n    const f = this.componentFactoryResolver.resolveComponentFactory(r.editType);\r\n    const c = ref.createComponent(f);\r\n    const control = c.instance;\r\n\r\n    control.load(item);\r\n    return control;\r\n  }\r\n\r\n\r\n  /**\r\n   * Gets a list avaiable registrations.\r\n   *\r\n   * @returns {{ title: string, name: string }[]}\r\n   * @memberof ControlsService\r\n   */\r\n  public getAvailable(): { title: string, name: string }[] {\r\n    return this._registrations.map(x => ({ title: x.title, name: x.name }));\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CoreModule, ControlsService, ControlRegistration } from 'src/core';\r\nimport { VolumeComponent } from './volume-component/volume.component';\r\nimport { VolumeEditorComponent } from './volume-editor-component/volume-editor.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    VolumeComponent,\r\n    VolumeEditorComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    CoreModule\r\n  ],\r\n  exports: [\r\n    VolumeComponent,\r\n    VolumeEditorComponent\r\n  ]\r\n})\r\nexport class VolumeModule {\r\n  constructor(controls: ControlsService) {\r\n    const reg: ControlRegistration = {\r\n      name: VolumeModule.controlKey,\r\n      title: 'Volume',\r\n      viewType: VolumeComponent,\r\n      editType: VolumeEditorComponent\r\n    };\r\n\r\n    controls.register(reg);\r\n  }\r\n\r\n  static readonly controlKey: string = 'vol';\r\n\r\n  static forRoot(): ModuleWithProviders<VolumeModule> {\r\n    return {\r\n      ngModule: VolumeModule,\r\n      providers: [\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { IControlEditor, IControl } from 'src/core';\r\n\r\n@Component({\r\n  selector: 'rc-volume-editor',\r\n  templateUrl: './volume-editor.component.html',\r\n  styleUrls: ['./volume-editor.component.css']\r\n})\r\nexport class VolumeEditorComponent\r\n  implements IControlEditor, OnInit {\r\n\r\n  public data: IControl = null;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  load(data: IControl): boolean {\r\n    this.data = !!data ? data : null;\r\n    return true;\r\n  }\r\n  save(): IControl {\r\n    return this.data;\r\n  }\r\n}\r\n","<rc-control-column-editor *ngIf=\"!!data\" [(value)]=\"data.col\"></rc-control-column-editor>\r\n","import { Component, OnDestroy, OnInit, Renderer2, ElementRef } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { WebSocketService, PagesService, IPage } from 'src/core';\r\n\r\n@Component({\r\n  selector: 'rc-nav-menu',\r\n  templateUrl: './nav-menu.component.html',\r\n  styleUrls: ['./nav-menu.component.css']\r\n})\r\nexport class NavMenuComponent implements OnInit, OnDestroy {\r\n  private subscriptions: Subscription[];\r\n  isExpanded = false;\r\n  pages: IPage[];\r\n  isConnected: boolean = false;\r\n\r\n  constructor(\r\n    private pagesService: PagesService,\r\n    private service: WebSocketService,\r\n    private elementRef: ElementRef,\r\n    private renderer: Renderer2) {\r\n    this.subscriptions = [];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subscriptions.push(this.pagesService.pages.subscribe(value => this.pages = value));\r\n    this.subscriptions.push(this.service.isConnected.subscribe(value => this.isConnected = value));\r\n\r\n    const sub = new Subscription(this.renderer.listen('document', 'click', (evt: Event) => {\r\n      if (this.isExpanded && !this.elementRef.nativeElement.contains(evt.target))\r\n        this.isExpanded = false;\r\n    }));\r\n    this.subscriptions.push(sub);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  collapse() {\r\n    this.isExpanded = false;\r\n  }\r\n\r\n  toggle() {\r\n    this.isExpanded = !this.isExpanded;\r\n  }\r\n  connect() {\r\n    if (!this.service.isConnected.getValue()) {\r\n      console.log('Connect!');\r\n      this.service.open();\r\n\r\n    } else {\r\n      console.log('Disconnect!');\r\n      this.service.close();\r\n\r\n    }\r\n  }\r\n}\r\n","<header>\r\n  <nav\r\n    class=\"navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3\"\r\n  >\r\n    <div class=\"container\">\r\n      <a class=\"navbar-brand\" (click)='this.connect()' style.background=\"{{isConnected ? 'lightgreen' : 'red'}}\">Status: {{isConnected ? 'Connected' : \"Closed\"}}</a>\r\n      <button\r\n        class=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\".navbar-collapse\"\r\n        aria-label=\"Toggle navigation\"\r\n        [attr.aria-expanded]=\"isExpanded\"\r\n        (click)=\"toggle()\"\r\n      >\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div\r\n        class=\"navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse\"\r\n        [ngClass]=\"{ show: isExpanded }\"\r\n      >\r\n        <ul class=\"navbar-nav flex-grow\">\r\n          <li\r\n            class=\"nav-item\"\r\n            [routerLinkActive]=\"['link-active']\"\r\n            [routerLinkActiveOptions]=\"{ exact: true }\">\r\n            <a class=\"nav-link text-dark\" [routerLink]=\"['/']\">Home</a>\r\n          </li>\r\n          <li class=\"nav-item\" [routerLinkActive]=\"['link-active']\">\r\n            <a class=\"nav-link text-dark\" [routerLink]=\"['/create']\">Create</a>\r\n          </li>\r\n          <li *ngFor=\"let p of pages\" class=\"nav-item\" [routerLinkActive]=\"['link-active']\">\r\n            <a class=\"nav-link text-dark\" [routerLink]=\"['/p', p.name]\">{{p.title}}</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</header>\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WebSocketService } from './services/web-socket.service';\r\nimport { PagesService } from './services/pages.service';\r\nimport { AuthService } from './services/auth.service';\r\nimport { WakeLockService } from './services/wake-lock.service';\r\nimport { InformersStateService } from './services/informers-state.service';\r\nimport { ControlsService } from './services/controls.service';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AutoFocusDirective } from './directives/auto-focus.directive';\r\nimport { ControlColumnEditorComponent } from './components/control-column-editor/control-column-editor.component';\r\nimport { ColumnClassNamePipe } from './pipes/column-class-name.pipe';\r\nimport { IconSelectorComponent } from './components/icon-selector/icon-selector.component';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { IconsFilterPipe } from './pipes/IconsFilterPipe';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { EnumToArrayPipe } from './pipes/EnumToArrayPipe';\r\nimport { WebSocketMessage } from './models/WebSocketMessage';\r\nimport { WebSocketMessageType } from './models/WebSocketMessageType';\r\nimport { makeid } from './utils/makeid';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AutoFocusDirective,\r\n    ControlColumnEditorComponent,\r\n    ColumnClassNamePipe,\r\n    EnumToArrayPipe,\r\n    IconsFilterPipe,\r\n    IconSelectorComponent,\r\n  ],\r\n  imports: [\r\n    FontAwesomeModule,\r\n    FormsModule,\r\n    BrowserModule.withServerTransition({ appId: 'ng-cli-universal' }),\r\n    HttpClientModule,\r\n    CommonModule\r\n  ],\r\n  providers: [\r\n    ControlsService,\r\n    InformersStateService,\r\n    PagesService,\r\n    WakeLockService,\r\n    AuthService,\r\n    WebSocketService,\r\n    ColumnClassNamePipe,\r\n    IconsFilterPipe,\r\n    EnumToArrayPipe,\r\n  ],\r\n  exports: [\r\n    AutoFocusDirective,\r\n    ControlColumnEditorComponent,\r\n    ColumnClassNamePipe,\r\n    EnumToArrayPipe,\r\n    IconsFilterPipe,\r\n    IconSelectorComponent,\r\n  ]\r\n})\r\nexport class CoreModule {\r\n  static forRoot(): ModuleWithProviders<CoreModule> {\r\n    return {\r\n      ngModule: CoreModule,\r\n      providers: [\r\n        ControlsService,\r\n        InformersStateService,\r\n        PagesService,\r\n        WakeLockService,\r\n        AuthService,\r\n        { provide: WebSocketService, useFactory: WebSocketServiceProvider, deps: [AuthService] },\r\n      ]\r\n    };\r\n  }\r\n}\r\n\r\nexport function WebSocketServiceProvider(authService: AuthService) {\r\n  const l = window.location;\r\n  const protocol = document.location.protocol == 'https:' ? 'wss:' : 'ws:';\r\n  const port = environment.port;\r\n  const url = `${protocol}//${l.hostname}:${port}/Testing`;\r\n  console.log('URL: ', url);\r\n  const rv = new WebSocketService(url);\r\n  rv.logRaisingEvent = false;\r\n  rv.open();\r\n  console.log('Created WebSocketService: ', rv);\r\n\r\n  // Link with auth service.\r\n  authService.link(rv);\r\n\r\n  return rv;\r\n}\r\n","export interface IKeyData {\r\n  key: any;\r\n  modifiers: any[];\r\n}\r\n\r\nexport const KeyCodes: { name: string, value: string }[] = [\r\n  { name: '0', value: 'VK_0' },\r\n  { name: '1', value: 'VK_1' },\r\n  { name: '2', value: 'VK_2' },\r\n  { name: '3', value: 'VK_3' },\r\n  { name: '4', value: 'VK_4' },\r\n  { name: '5', value: 'VK_5' },\r\n  { name: '6', value: 'VK_6' },\r\n  { name: '7', value: 'VK_7' },\r\n  { name: '8', value: 'VK_8' },\r\n  { name: '9', value: 'VK_9' },\r\n  { name: 'A', value: 'VK_A' },\r\n  { name: 'B', value: 'VK_B' },\r\n  { name: 'C', value: 'VK_C' },\r\n  { name: 'D', value: 'VK_D' },\r\n  { name: 'E', value: 'VK_E' },\r\n  { name: 'F', value: 'VK_F' },\r\n  { name: 'G', value: 'VK_G' },\r\n  { name: 'H', value: 'VK_H' },\r\n  { name: 'I', value: 'VK_I' },\r\n  { name: 'J', value: 'VK_J' },\r\n  { name: 'K', value: 'VK_K' },\r\n  { name: 'L', value: 'VK_L' },\r\n  { name: 'M', value: 'VK_M' },\r\n  { name: 'N', value: 'VK_N' },\r\n  { name: 'O', value: 'VK_O' },\r\n  { name: 'P', value: 'VK_P' },\r\n  { name: 'Q', value: 'VK_Q' },\r\n  { name: 'R', value: 'VK_R' },\r\n  { name: 'S', value: 'VK_S' },\r\n  { name: 'T', value: 'VK_T' },\r\n  { name: 'U', value: 'VK_U' },\r\n  { name: 'V', value: 'VK_V' },\r\n  { name: 'W', value: 'VK_W' },\r\n  { name: 'X', value: 'VK_X' },\r\n  { name: 'Y', value: 'VK_Y' },\r\n  { name: 'Z', value: 'VK_Z' },\r\n\r\n  { name: 'Numpad 0', value: 'NUMPAD0' },\r\n  { name: 'Numpad 1', value: 'NUMPAD1' },\r\n  { name: 'Numpad 2', value: 'NUMPAD2' },\r\n  { name: 'Numpad 3', value: 'NUMPAD3' },\r\n  { name: 'Numpad 4', value: 'NUMPAD4' },\r\n  { name: 'Numpad 5', value: 'NUMPAD5' },\r\n  { name: 'Numpad 6', value: 'NUMPAD6' },\r\n  { name: 'Numpad 7', value: 'NUMPAD7' },\r\n  { name: 'Numpad 8', value: 'NUMPAD8' },\r\n  { name: 'Numpad 9', value: 'NUMPAD9' },\r\n\r\n  { name: 'F1', value: 'F1' },\r\n  { name: 'F2', value: 'F2' },\r\n  { name: 'F3', value: 'F3' },\r\n  { name: 'F4', value: 'F4' },\r\n  { name: 'F5', value: 'F5' },\r\n  { name: 'F6', value: 'F6' },\r\n  { name: 'F7', value: 'F7' },\r\n  { name: 'F8', value: 'F8' },\r\n  { name: 'F9', value: 'F9' },\r\n  { name: 'F10', value: 'F10' },\r\n  { name: 'F11', value: 'F11' },\r\n  { name: 'F12', value: 'F12' },\r\n  { name: 'F13', value: 'F13' },\r\n  { name: 'F14', value: 'F14' },\r\n  { name: 'F15', value: 'F15' },\r\n  { name: 'F16', value: 'F16' },\r\n  { name: 'F17', value: 'F17' },\r\n  { name: 'F18', value: 'F18' },\r\n  { name: 'F19', value: 'F19' },\r\n  { name: 'F20', value: 'F20' },\r\n  { name: 'F21', value: 'F21' },\r\n  { name: 'F22', value: 'F22' },\r\n  { name: 'F23', value: 'F23' },\r\n  { name: 'F24', value: 'F24' },\r\n\r\n  { name: 'Mouse left', value: 'LBUTTON' },\r\n  { name: 'Mouse right', value: 'RBUTTON' },\r\n  { name: 'Mouse middle', value: 'MBUTTON' },\r\n  { name: 'Mouse 4', value: 'XBUTTON1' },\r\n  { name: 'Mouse 5', value: 'XBUTTON5' },\r\n\r\n  { name: 'Cancel', value: 'CANCEL' },\r\n  { name: 'Back', value: 'BACK' },\r\n  { name: 'Tab', value: 'TAB' },\r\n  { name: 'Clear', value: 'CLEAR' },\r\n  { name: 'Return', value: 'RETURN' },\r\n  { name: 'Menu', value: 'MENU' },\r\n  { name: 'Pause', value: 'PAUSE' },\r\n  { name: 'Esc', value: 'ESCAPE' },\r\n  { name: 'Space', value: 'SPACE' },\r\n\r\n  { name: 'Left', value: 'LEFT' },\r\n  { name: 'Right', value: 'RIGHT' },\r\n  { name: 'Up', value: 'UP' },\r\n  { name: 'Down', value: 'DOWN' },\r\n\r\n  { name: 'Home', value: 'HOME' },\r\n  { name: 'End', value: 'END' },\r\n  { name: 'Insert', value: 'INSERT' },\r\n  { name: 'Delete', value: 'DELETE' },\r\n\r\n  { name: 'Print', value: 'PRINT' },\r\n  { name: 'Windows Left', value: 'LWIN' },\r\n  { name: 'Windows Right', value: 'RWIN' },\r\n\r\n  { name: 'Multiply', value: 'MULTIPLY' },\r\n  { name: 'Add', value: 'ADD' },\r\n  { name: 'Separator', value: 'SEPARATOR' },\r\n  { name: 'Substract', value: 'SUBTRACT' },\r\n  { name: 'Decimal', value: 'DECIMAL' },\r\n  { name: 'Divide', value: 'DIVIDE' },\r\n  { name: 'NumLock', value: 'NUMLOCK' },\r\n  { name: 'Scroll', value: 'SCROLL' },\r\n  { name: 'Shift', value: 'SHIFT' },\r\n  { name: 'Shift Left', value: 'LSHIFT' },\r\n  { name: 'Shift Right', value: 'RSHIFT' },\r\n  { name: 'Control', value: 'CONTROL' },\r\n  { name: 'Control Left', value: 'LCONTROL' },\r\n  { name: 'Control Right', value: 'RCONTROL' },\r\n  { name: 'Menu Left', value: 'LMENU' },\r\n  { name: 'Menu Right', value: 'RMENU' },\r\n\r\n  { name: 'Volume Mute', value: 'VOLUME_MUTE' },\r\n  { name: 'Volume Down', value: 'VOLUME_DOWN' },\r\n  { name: 'Volume Up', value: 'VOLUME_UP' },\r\n\r\n  { name: 'Media Next', value: 'MEDIA_NEXT_TRACK' },\r\n  { name: 'Media Prev', value: 'MEDIA_PREV_TRACK' },\r\n  { name: 'Media Stop', value: 'MEDIA_STOP' },\r\n  { name: 'Media Play/Pause', value: 'MEDIA_PLAY_PAUSE' },\r\n\r\n  { name: 'Browser Back', value: 'BROWSER_BACK' },\r\n  { name: 'Browser Forward', value: 'BROWSER_FORWARD' },\r\n  { name: 'Browser Refresh', value: 'BROWSER_REFRESH' },\r\n  { name: 'Browser Stop', value: 'BROWSER_STOP' },\r\n  { name: 'Browser Search', value: 'BROWSER_SEARCH' },\r\n  { name: 'Browser Favorites', value: 'BROWSER_FAVORITES' },\r\n  { name: 'Browser Home', value: 'BROWSER_HOME' },\r\n\r\n  { name: 'Apps', value: 'APPS' },\r\n  { name: 'Sleep', value: 'SLEEP' },\r\n\r\n\r\n  // 'CAPITAL',\r\n  // 'HANGEUL',\r\n  // 'HANGUL',\r\n  // 'KANA',\r\n  // 'JUNJA',\r\n  // 'FINAL',\r\n  // 'HANJA',\r\n  // 'KANJI',\r\n  // 'CONVERT',\r\n  // 'NONCONVERT',\r\n  // 'ACCEPT',\r\n  // 'MODECHANGE',\r\n  // 'PRIOR',\r\n  // 'NEXT',\r\n  // 'SELECT',\r\n  // 'EXECUTE',\r\n  // 'SNAPSHOT',\r\n  // 'HELP',\r\n\r\n  // 'LAUNCH_MAIL',\r\n  // 'LAUNCH_MEDIA_SELECT',\r\n  // 'LAUNCH_APP1',\r\n  // 'LAUNCH_APP2',\r\n\r\n  // 'OEM_1',\r\n  // 'OEM_PLUS',\r\n  // 'OEM_COMMA',\r\n  // 'OEM_MINUS',\r\n  // 'OEM_PERIOD',\r\n  // 'OEM_2',\r\n  // 'OEM_3',\r\n  // 'OEM_4',\r\n  // 'OEM_5',\r\n  // 'OEM_6',\r\n  // 'OEM_7',\r\n  // 'OEM_8',\r\n  // 'OEM_102',\r\n  // 'PROCESSKEY',\r\n  // 'PACKET',\r\n  // 'ATTN',\r\n  // 'CRSEL',\r\n  // 'EXSEL',\r\n  // 'EREOF',\r\n  // 'PLAY',\r\n  // 'ZOOM',\r\n  // 'NONAME',\r\n  // 'PA1',\r\n  // 'OEM_CLEAR',\r\n];\r\n","import { Component, ViewChild, Input } from '@angular/core';\r\nimport { ControlHostDirective } from 'src/app/directives/control-host/control-host.directive';\r\nimport { IControl, ControlsService } from 'src/core';\r\n\r\n@Component({\r\n  selector: 'rc-control-view',\r\n  templateUrl: './control-view.component.html',\r\n  styleUrls: ['./control-view.component.css']\r\n})\r\nexport class ControlViewComponent {\r\n\r\n  @ViewChild(ControlHostDirective, { static: true }) host: ControlHostDirective;\r\n\r\n  private _control: IControl = null;\r\n\r\n  get control(): IControl {\r\n    return this._control;\r\n  }\r\n\r\n  @Input()\r\n  set control(value: IControl) {\r\n    this._control = !!value ? value : null;\r\n    this.load();\r\n  }\r\n\r\n  constructor(private controlsService: ControlsService) { }\r\n\r\n  private load() {\r\n    const ref = this.host.viewContainerRef;\r\n    this.controlsService.view(ref, this.control);\r\n  }\r\n}\r\n","<ng-template rcControlHost></ng-template>\r\n","import { Injectable } from '@angular/core';\r\nimport { WebSocketMessage } from '../models/WebSocketMessage';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\nexport interface WebSocketServiceEventMap {\r\n  'open': any;\r\n  'close': CloseEvent;\r\n  'connection': boolean;\r\n  'error': any;\r\n  'error.open': any;\r\n  'error.message': any;\r\n  'error.message.send': WebSocketMessage;\r\n  'message.raw': MessageEvent;\r\n  'message.received': WebSocketMessage;\r\n  'message.sending': WebSocketMessage;\r\n  'message.sent': WebSocketMessage;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WebSocketService {\r\n  private __autoReconnectInterval: number = 5 * 1000; // 5 seconds.\r\n  private __autoReconnectTries: number = -1; // Infinite.\r\n  private __autoReconnectTry: number = 0; // Current try of reconnect.\r\n\r\n  private __handlers: { [id: string]: Function[] } = {};\r\n  private __messageHandlers: { [id: string]: ((message: WebSocketMessage) => void)[] } = {};\r\n  private __instnaceHandlers = {\r\n    'close': (e: CloseEvent) => {\r\n      this.raiseEvent('close', e);\r\n\r\n      if (e.code !== 1000) // 1000 is a CLOSE_NORMAL, on which client don't need to reconnect.\r\n        this.reconnect();\r\n\r\n      this.raiseEvent('connection', false);\r\n      this.isConnected.next(false);\r\n    },\r\n    'error': (e: CloseEvent) => {\r\n      this.raiseEvent('error', e);\r\n\r\n      if ((<any>e.code) === 'ECONNREFUSED' || e.reason === 'ECONNREFUSED')\r\n        this.reconnect();\r\n    },\r\n    'message': (e: MessageEvent) => {\r\n      this.raiseEvent('message.raw', e);\r\n\r\n      try {\r\n        const data = JSON.parse(e.data);\r\n        const msg = WebSocketMessage.parse(data);\r\n        if (msg === null)\r\n          return;\r\n\r\n        this.raiseEvent('message.received', msg);\r\n\r\n        if (!this.__filters.every(f => f(msg) !== false))\r\n          return;\r\n\r\n        this.raiseMessage(msg);\r\n      } catch (e) {\r\n        this.raiseEvent('error.message', e);\r\n        this.raiseEvent('error', e);\r\n      }\r\n\r\n    },\r\n    'open': (e: Event) => {\r\n      this.raiseEvent('open', e);\r\n      this.raiseEvent('connection', true);\r\n      this.isConnected.next(true);\r\n    },\r\n  };\r\n  private __filters: Function[] = [];\r\n  private instance: WebSocket;\r\n\r\n  public isConnected: BehaviorSubject<boolean>;\r\n  public isAuthorized: BehaviorSubject<boolean>;\r\n  public logRaisingEvent: boolean = false;\r\n  /**\r\n   * Gets or sets auto-reconnect interval in ms. Minimum is 0 -> instant reconnect.\r\n   * @returns {number}\r\n   */\r\n  get autoReconnectInterval() {\r\n    return this.__autoReconnectInterval;\r\n  }\r\n  set autoReconnectInterval(value: number) {\r\n    if (value !== null && (typeof (value) !== 'number') || isNaN(value))\r\n      return;\r\n    if (value < 0)\r\n      value = 0;\r\n\r\n    this.__autoReconnectInterval = value;\r\n  }\r\n\r\n  /**\r\n   * Gets or sets auto-reconnect tries count before stopping trying to reconnect.\r\n   * -1 -> Infinity times.\r\n   * @returns {number}\r\n   */\r\n  get autoReconnectTries() {\r\n    return this.__autoReconnectTries;\r\n  }\r\n  set autoReconnectTries(value: number) {\r\n    if (value !== null && (typeof (value) !== 'number') || isNaN(value))\r\n      return;\r\n    if (value < -1)\r\n      value = -1;\r\n\r\n    this.__autoReconnectTries = value;\r\n  }\r\n\r\n  constructor(public url: string) {\r\n    this.isConnected = new BehaviorSubject<boolean>(false);\r\n    this.isAuthorized = new BehaviorSubject<boolean>(false);\r\n  }\r\n\r\n  public addHandler<K extends keyof WebSocketServiceEventMap>(name: K, data: (data: WebSocketServiceEventMap[K]) => any): void;\r\n  public addHandler(name: string, handler: Function) {\r\n    if (typeof name !== 'string')\r\n      return;\r\n    if (handler instanceof Function === false)\r\n      return;\r\n\r\n    name = name.toLowerCase();\r\n\r\n    if (!this.__handlers.hasOwnProperty(name))\r\n      this.__handlers[name] = [];\r\n\r\n    this.__handlers[name].push(handler);\r\n\r\n    // TODO: Depending on event type: check if that handler should be invoked instantly.\r\n  }\r\n\r\n  public removeHandler(name: string, handler: Function): boolean {\r\n    if (typeof name !== 'string')\r\n      return false;\r\n    if (handler instanceof Function === false)\r\n      return false;\r\n\r\n    name = name.toLowerCase();\r\n\r\n    if (!this.__handlers.hasOwnProperty(name))\r\n      return false;\r\n\r\n    const arr = this.__handlers[name];\r\n    if (arr instanceof Array === false)\r\n      return false;\r\n\r\n    const ind = arr.indexOf(handler);\r\n    if (ind < 0)\r\n      return false;\r\n\r\n    arr.splice(ind, 1);\r\n  }\r\n\r\n  private raiseEvent<K extends keyof WebSocketServiceEventMap>(name: K, data: WebSocketServiceEventMap[K]): void;\r\n  private raiseEvent(name: string, data: any = null): void {\r\n    if (typeof name !== 'string')\r\n      return;\r\n\r\n    if (this.logRaisingEvent)\r\n      console.log('Raise event:', name, data);\r\n\r\n    name = name.toLowerCase();\r\n\r\n    if (!this.__handlers.hasOwnProperty(name))\r\n      return;\r\n\r\n    const handlers = this.__handlers[name];\r\n    if (handlers instanceof Array === false)\r\n      return;\r\n\r\n    handlers.forEach(h => h(data));\r\n  }\r\n\r\n  public send(message: WebSocketMessage) {\r\n    if (message instanceof WebSocketMessage === false)\r\n      return;\r\n\r\n    const data = JSON.stringify(message.toDto());\r\n\r\n    try {\r\n      this.raiseEvent('message.sending', message);\r\n      this.instance.send(data);\r\n      this.raiseEvent('message.sent', message);\r\n    } catch (e) {\r\n      this.raiseEvent('error.message.send', message);\r\n      this.raiseEvent('error.message', { e, message });\r\n      this.raiseEvent('error', { e, message });\r\n    }\r\n  }\r\n\r\n  public open(): void {\r\n    this.close();\r\n    try {\r\n      this.instance = new WebSocket(this.url);\r\n      this.instanceCreated(this.instance);\r\n      this.__autoReconnectTry = 0;\r\n    } catch (e) {\r\n      console.warn(e);\r\n      this.raiseEvent('error.open', e);\r\n      this.raiseEvent('error.open', { e: e, message: 'Count not initialize WebSocket.' });\r\n    }\r\n  }\r\n\r\n  public close(): void {\r\n    if (this.instance instanceof WebSocket) {\r\n      const ws = this.instance;\r\n      this.instance = null;\r\n      ws.close();\r\n      this.instanceClosed(ws);\r\n      this.isConnected.next(false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Reconnects after autoReconnectInterval elapses.\r\n   */\r\n  public reconnect(): void {\r\n    this.close();\r\n\r\n    // Check if auto-reconnect is limited.\r\n    if (this.__autoReconnectTries >= 0 && this.__autoReconnectTry >= this.__autoReconnectTries)\r\n      return;\r\n\r\n    this.__autoReconnectTry++;\r\n    if (this.autoReconnectInterval > 0)\r\n      setTimeout(() => this.open(), this.autoReconnectInterval);\r\n    else\r\n      this.open();\r\n  }\r\n\r\n  private instanceCreated(instance: WebSocket) {\r\n    for (const evt in this.__instnaceHandlers) {\r\n      if (this.__instnaceHandlers.hasOwnProperty(evt) === false)\r\n        continue;\r\n\r\n      const handler = this.__instnaceHandlers[evt];\r\n      instance.addEventListener(evt, handler);\r\n    }\r\n  }\r\n  private instanceClosed(instance: WebSocket) {\r\n    for (const evt in this.__instnaceHandlers) {\r\n      if (this.__instnaceHandlers.hasOwnProperty(evt) === false)\r\n        continue;\r\n\r\n      const handler = this.__instnaceHandlers[evt];\r\n      instance.removeEventListener(evt, handler);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds filter that checks if received message from WebSocket can be handled.\r\n   * @param filter Function that returns should return false to prevent message from handling\r\n   */\r\n  public addFilter(filter: Function) {\r\n    if (!(filter instanceof Function))\r\n      return;\r\n\r\n    this.__filters.push(filter);\r\n  }\r\n\r\n  /**\r\n   * Removes filter that checks if received message from WebSocket can be handled.\r\n   * @param filter Function that returns should return false to prevent message from handling\r\n   * @returns How many filters removed. In case same filter was added 2 times -> will return 2.\r\n   */\r\n  public removeFilter(filter: Function): number {\r\n    if (!(filter instanceof Function))\r\n      return 0;\r\n\r\n    let rv = 0;\r\n    let ind = this.__filters.indexOf(filter);\r\n    while (ind >= 0) {\r\n      this.__filters.splice(ind, 1);\r\n      ind = this.__filters.indexOf(filter);\r\n      rv++;\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  private raiseMessage(message: WebSocketMessage) {\r\n    let action = message.ActionName.toLowerCase();\r\n\r\n    if (!this.__messageHandlers.hasOwnProperty(action))\r\n      return;\r\n\r\n    action = action.toLowerCase();\r\n\r\n    const handlers = this.__messageHandlers[action];\r\n    if (handlers instanceof Array === false)\r\n      return;\r\n\r\n    handlers.forEach(x => x(message));\r\n  }\r\n  public addMessageHandler(action: string, handler: (message: WebSocketMessage) => void) {\r\n    if (typeof action !== 'string')\r\n      return;\r\n    if (handler instanceof Function === false)\r\n      return;\r\n\r\n    action = action.toLowerCase();\r\n\r\n    if (!this.__messageHandlers.hasOwnProperty(action))\r\n      this.__messageHandlers[action] = [];\r\n\r\n    this.__messageHandlers[action].push(handler);\r\n  }\r\n  public removeMessageHandler(name: string, handler: (message: WebSocketMessage) => void): boolean {\r\n    if (typeof name !== 'string')\r\n      return false;\r\n    if (handler instanceof Function === false)\r\n      return false;\r\n\r\n    name = name.toLowerCase();\r\n\r\n    if (!this.__messageHandlers.hasOwnProperty(name))\r\n      return false;\r\n\r\n    const arr = this.__messageHandlers[name];\r\n    if (arr instanceof Array === false)\r\n      return false;\r\n\r\n    const ind = arr.indexOf(handler);\r\n    if (ind < 0)\r\n      return false;\r\n\r\n    arr.splice(ind, 1);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { WebSocketService } from './web-socket.service';\nimport { WebSocketMessage } from '../models/WebSocketMessage';\nimport { WebSocketMessageType } from '../models/WebSocketMessageType';\nimport { makeid } from '../utils/makeid';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  private static __key: string = 'rc.auth';\n  private static ActionAuth = 'Auth';\n\n  constructor() { }\n\n  public setToken(token: string): void {\n    if (typeof token === 'string' || <any>token instanceof String)\n      token = token.length > 0 ? token : null;\n    else\n      token = null;\n\n    localStorage.setItem(AuthService.__key, token === null ? '' : token);\n  }\n\n  public clearToken(): void {\n    localStorage.removeItem(AuthService.__key);\n  }\n\n  /**\n   * Gets authorization token or null if not authorized.\n   */\n  public getToken(): string {\n    const token = localStorage.getItem(AuthService.__key);\n\n    if (typeof token === 'string' || <any>token instanceof String)\n      return token.length > 0 ? token : null;\n\n    return null;\n  }\n\n  public link(webSocketService: WebSocketService): void {\n    webSocketService.addMessageHandler(AuthService.ActionAuth, (m: WebSocketMessage) => {\n      // Store auth token.\n      if (this.getToken() === null && m.Data instanceof String || typeof m.Data === 'string')\n        this.setToken(<string>m.Data);\n\n      webSocketService.isAuthorized.next(true);\n    });\n    webSocketService.isConnected.subscribe(value => {\n      if (value !== true) {\n        webSocketService.isAuthorized.next(false);\n        return;\n      }\n\n      this.auth(webSocketService);\n    });\n  }\n  private auth(webSocketService: WebSocketService) {\n    const token = this.getToken();\n\n    webSocketService.send(new WebSocketMessage({\n      a: AuthService.ActionAuth,\n      t: WebSocketMessageType.Request,\n      d: token,\n      h: makeid()\n    }));\n  }\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { IControl, PagesService, PageDetails } from 'src/core';\r\nimport { ControlEditorComponent } from '../control-editor/control-editor.component';\r\nimport { CreateControlComponent } from '../create-control/create-control.component';\r\n\r\n@Component({\r\n  selector: 'rc-page-editor',\r\n  templateUrl: './page-editor.component.html',\r\n  styleUrls: ['./page-editor.component.css'],\r\n})\r\nexport class PageEditorComponent implements OnInit {\r\n  private sub: Subscription;\r\n  public name: string;\r\n  public title: string = null;\r\n  public controls: IControl[] = [];\r\n  public show = true;\r\n  public showCreateControl = false;\r\n  public wakeLock = false;\r\n\r\n  @ViewChild(ControlEditorComponent, { static: true }) controlEditor: ControlEditorComponent;\r\n  @ViewChild(CreateControlComponent, { static: true }) controlCreator: CreateControlComponent;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private pagesService: PagesService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.sub = this.route.params.subscribe(params => {\r\n      this.name = params['name'];\r\n\r\n      const details = this.pagesService.details(this.name);\r\n      if (details === null) {\r\n        console.warn('Page editor could not find %o. Navigating to home...', this.name);\r\n        this.router.navigate(['/']);\r\n      } else {\r\n        this.title = details.title;\r\n        this.wakeLock = !!details.wakeLock;\r\n        this.controls = [...details.controls];\r\n      }\r\n    });\r\n    this.sub.unsubscribe();\r\n  }\r\n\r\n  updateControl(data?: { orig: IControl, changed: IControl }) {\r\n    this.show = true;\r\n    if (!data || !data.orig)\r\n      return;\r\n\r\n    const ind = this.controls.indexOf(data.orig);\r\n    if (ind < 0) {\r\n      console.log('Failed to update control - origin not found.', data.orig);\r\n      return;\r\n    }\r\n\r\n    this.controls[ind] = data.changed;\r\n  }\r\n\r\n  deleteControl(control: IControl) {\r\n    this.show = true;\r\n    if (!control)\r\n      return;\r\n\r\n    const ind = this.controls.indexOf(control);\r\n    if (ind < 0) {\r\n      console.log('Failed to delete control - origin not found', control);\r\n      return;\r\n    }\r\n\r\n    this.controls.splice(ind, 1);\r\n  }\r\n\r\n  openControlEditor(control: IControl) {\r\n    this.show = false;\r\n    this.controlEditor.load(control);\r\n  }\r\n\r\n  save() {\r\n    const details: PageDetails = new PageDetails();\r\n    details.controls = this.controls;\r\n    details.title = this.title;\r\n    details.wakeLock = !!this.wakeLock;\r\n    this.pagesService.update(this.name, details);\r\n\r\n    this.navigateToPage();\r\n  }\r\n\r\n  delete() {\r\n    const confirmed = confirm('Delete this page?');\r\n    if (!confirmed)\r\n      return;\r\n\r\n    this.pagesService.delete(this.name);\r\n    this.router.navigate(['/']);\r\n  }\r\n\r\n  navigateToPage() {\r\n    this.router.navigate(['/', 'p', this.name]);\r\n  }\r\n\r\n  addControl() {\r\n    this.controlCreator.type = null;\r\n    this.showCreateControl = true;\r\n  }\r\n\r\n  hideCreateControl() {\r\n    this.controlCreator.type = null;\r\n    this.showCreateControl = false;\r\n  }\r\n\r\n  createControl(control: IControl) {\r\n    if (!control)\r\n      return;\r\n\r\n    this.hideCreateControl();\r\n    this.controls.push(control);\r\n  }\r\n}\r\n","<section [hidden]=\"!show || showCreateControl\">\r\n  <main class=\"container-fluid\">\r\n    <div class=\"form-group\">\r\n      <input\r\n        [(ngModel)]=\"title\"\r\n        autofocus\r\n        placeholder=\"Title\"\r\n        class=\"form-control form-control-lg\"\r\n      />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label class=\"list-group-item\">\r\n        <input\r\n          type=\"checkbox\"\r\n          [(ngModel)]=\"wakeLock\"\r\n          class=\"form-check-input \"\r\n        />\r\n        Wake lock\r\n      </label>\r\n    </div>\r\n    <div [sortablejs]=\"controls\" [sortablejsOptions]=\"{ delay: 100 }\">\r\n      <rc-control-editor-view\r\n        *ngFor=\"let c of controls\"\r\n        [ngClass]=\"c.col | columnClassName\"\r\n        [control]=\"c\"\r\n        (openEditor)=\"openControlEditor(c)\"\r\n      ></rc-control-editor-view>\r\n    </div>\r\n  </main>\r\n  <div class=\"container-fluid editor-controls\">\r\n    <div class=\"col-12\" style=\"margin: 0 0 4px 0;\">\r\n      <button (click)=\"addControl()\" class=\"btn btn-lg btn-primary\">Add control</button>\r\n    </div>\r\n    <div class=\"col-4\">\r\n      <button (click)=\"delete()\" class=\"btn btn-lg btn-danger\">Delete</button>\r\n    </div>\r\n    <div class=\"col-4\">\r\n      <button (click)=\"navigateToPage()\" class=\"btn btn-lg btn-secondary\">Cancel</button>\r\n    </div>\r\n    <div class=\"col-4\">\r\n      <button (click)=\"save()\" class=\"btn btn-lg btn-primary\">Done</button>\r\n    </div>\r\n  </div>\r\n</section>\r\n\r\n<rc-control-editor\r\n  [hidden]=\"show\"\r\n  (cancel)=\"updateControl()\"\r\n  (save)=\"updateControl($event)\"\r\n  (delete)=\"deleteControl($event)\"\r\n></rc-control-editor>\r\n\r\n<rc-create-control\r\n  [hidden]=\"!showCreateControl\"\r\n  (cancel)=\"hideCreateControl()\"\r\n  (submit)=\"createControl($event)\"\r\n></rc-create-control>\r\n","import { ModuleWithProviders, NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { ControlRegistration, ControlsService, CoreModule } from \"src/core\";\r\nimport { CommandComponent } from \"./command-component/command.component\";\r\nimport { CommandEditorCompoent } from \"./command-editor-component/command-editor.component\";\r\nimport { FontAwesomeModule } from \"@fortawesome/angular-fontawesome\";\r\nimport { FormsModule } from \"@angular/forms\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CommandComponent,\r\n    CommandEditorCompoent\r\n  ],\r\n  imports: [\r\n    FontAwesomeModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    CoreModule\r\n  ],\r\n  exports: [\r\n    CommandComponent,\r\n    CommandEditorCompoent\r\n  ]\r\n})\r\nexport class CommandModule {\r\n  constructor(controls: ControlsService) {\r\n    const reg: ControlRegistration = {\r\n      name: CommandModule.controlKey,\r\n      title: 'Command',\r\n      viewType: CommandComponent,\r\n      editType: CommandEditorCompoent\r\n    };\r\n\r\n    controls.register(reg);\r\n  }\r\n\r\n  static readonly controlKey: string = 'cmd';\r\n\r\n  static forRoot(): ModuleWithProviders<CommandModule> {\r\n    return {\r\n      ngModule: CommandModule,\r\n      providers: []\r\n    }\r\n  }\r\n}\r\n","import { Directive, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[rcControlHost]'\r\n})\r\nexport class ControlHostDirective {\r\n\r\n  constructor(public viewContainerRef: ViewContainerRef) { }\r\n\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef, Input, OnDestroy } from '@angular/core';\r\nimport {\r\n  BaseControlComponent, IControlViewer, IControl, WebSocketService, InformersStateService,\r\n  WebSocketMessage, WebSocketMessageType, makeid\r\n} from 'src/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'rc-volume',\r\n  templateUrl: './volume.component.html',\r\n  styleUrls: ['./volume.component.css']\r\n})\r\nexport class VolumeComponent\r\n  extends BaseControlComponent\r\n  implements IControlViewer, OnInit, OnDestroy {\r\n\r\n  private subs: Subscription[] = [];\r\n  @ViewChild('inp', { static: true }) input: ElementRef;\r\n  @Input() public isEnabled: boolean = false;\r\n\r\n  constructor(\r\n    private webSocketService: WebSocketService,\r\n    private informers: InformersStateService\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subs.push(this.informers.Sound.subscribe(value => {\r\n      const input = <HTMLInputElement>(this.input.nativeElement);\r\n      if (!!value)\r\n        input.value = <any>value.OutputVolume;\r\n      this.isEnabled = !!value && !value.OutputIsMuted\r\n        && this.webSocketService.isConnected.getValue();\r\n    }));\r\n    this.subs.push(this.webSocketService.isConnected.subscribe(x => {\r\n      const sound = this.informers.Sound.getValue();\r\n      this.isEnabled = x && !!sound && !sound.OutputIsMuted;\r\n    }));\r\n  }\r\n  ngOnDestroy(): void {\r\n    this.subs.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  load(data: IControl): boolean {\r\n    // Set column size in super class.\r\n    this.col = ('col' in data) ? data.col : this.colMax; // TODO: use this.col somehow.\r\n\r\n    return true;\r\n  }\r\n\r\n  setVolume(value: string) {\r\n    if (!this.isEnabled)\r\n      return;\r\n\r\n    const m = new WebSocketMessage({\r\n      a: 'Sound.Output.Volume',\r\n      d: parseInt(value, 10),\r\n      t: WebSocketMessageType.Request,\r\n      h: makeid()\r\n    });\r\n\r\n    this.webSocketService.send(m);\r\n  }\r\n}\r\n","<input\r\n  #inp (change)='this.setVolume($event.target.value)'\r\n  [attr.disabled]=\"isEnabled ? null : ''\"\r\n  [attr.title]='input.nativeElement.value'\r\n  class=\"custom-range\"\r\n  type=\"range\"\r\n  min=\"0\"\r\n  max=\"100\"\r\n  value=\"0\"\r\n  step=\"1\" />\r\n","import { Injectable } from \"@angular/core\";\r\nimport { WakeLockSentinel, Navigator } from \"src/@types/WakeLock\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WakeLockService {\r\n  private _lock: WakeLockSentinel = null;\r\n  private _autoLock = false;\r\n\r\n  constructor() {\r\n    document.addEventListener('visibilitychange', this.onVisibilityChange);\r\n  }\r\n\r\n  private async onVisibilityChange(): Promise<any> {\r\n    if (this._lock === null)\r\n      return;\r\n\r\n    if (document.visibilityState === 'visible') {\r\n      await this.lock();\r\n    } else {\r\n      await this.releaseLock();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Checks if WakeLock is available.\r\n   */\r\n  public isAvailable(): boolean {\r\n    const n: Navigator = <any>navigator;\r\n    return 'wakeLock' in n;\r\n  }\r\n\r\n  /**\r\n   * Checks if currently is locked to be awake.\r\n   */\r\n  public isLocked(): boolean {\r\n    return !!this._lock;\r\n  }\r\n\r\n  /**\r\n   * Locks screen to be awake.\r\n   */\r\n  public async lock(): Promise<WakeLockSentinel> {\r\n    if (!this.isAvailable())\r\n      return;\r\n\r\n    const n: Navigator = <any>navigator;\r\n    var lock = await n.wakeLock.request('screen');\r\n    this._lock = lock;\r\n    this._autoLock = true;\r\n    return lock;\r\n  }\r\n\r\n  /**\r\n   * Releases wake lock.\r\n   */\r\n  public async releaseLock(): Promise<void> {\r\n    if (this._lock) {\r\n      await this._lock.release();\r\n      this._lock = null;\r\n      this._autoLock = false;\r\n    }\r\n  }\r\n}\r\n","import { fas, IconDefinition, IconName } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport function findIcon(name: string | IconName): IconDefinition {\r\n  const pack = fas;\r\n  for (const key in pack) {\r\n    if (!pack.hasOwnProperty(key))\r\n      continue;\r\n\r\n    const icon = pack[key];\r\n    if (icon.iconName === name)\r\n      return icon;\r\n  }\r\n}\r\n\r\nexport function allIcons(): IconDefinition[] {\r\n  const rv: IconDefinition[] = [];\r\n\r\n  const pack = fas;\r\n  for (const key in pack) {\r\n    if (!pack.hasOwnProperty(key))\r\n      continue;\r\n\r\n    const icon = pack[key];\r\n    if (typeof icon.iconName === 'string')\r\n      rv.push(icon);\r\n  }\r\n\r\n  return rv;\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CoreModule, ControlsService, ControlRegistration } from 'src/core';\r\nimport { FileSystemComponent } from './file-system-component/file-system.component';\r\nimport { FileSystemEditorComponent } from './file-system-editor-component/file-system-editor.component';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { FileSystemPathsService } from './Services/file-system-paths.service';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  imports: [\r\n    FontAwesomeModule,\r\n    FormsModule,\r\n    CommonModule,\r\n    CoreModule,\r\n  ],\r\n  providers: [\r\n    FileSystemPathsService\r\n  ],\r\n  declarations: [\r\n    FileSystemComponent,\r\n    FileSystemEditorComponent,\r\n  ],\r\n  exports: [\r\n    FileSystemComponent,\r\n    FileSystemEditorComponent,\r\n  ]\r\n})\r\nexport class FileSystemModule {\r\n  constructor(controls: ControlsService) {\r\n    const reg: ControlRegistration = {\r\n      name: FileSystemModule.controlKey,\r\n      title: 'File System',\r\n      viewType: FileSystemComponent,\r\n      editType: FileSystemEditorComponent\r\n    };\r\n\r\n    controls.register(reg);\r\n  }\r\n\r\n  static readonly controlKey: string = 'fs';\r\n\r\n  static forRoot(): ModuleWithProviders<FileSystemModule> {\r\n    return {\r\n      ngModule: FileSystemModule,\r\n      providers: [\r\n        FileSystemPathsService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","export * from './key.module';\r\nexport * from './Models/IKeyControl';\r\nexport * from './Models/KeyControlMode';\r\nexport * from './key-component/key.component';\r\nexport * from './key-editor-component/key-editor.component';\r\n","<div class=\"container-fluid\">\r\n  <div class=\"d-flex bd-highlight\">\r\n    <div class=\"p-2 w-100 bd-highlight\">\r\n      <h3>{{ details?.title }}</h3>\r\n    </div>\r\n    <div class=\"p-2 flex-shrink-1 bd-highlight\">\r\n      <a [routerLink]=\"['/edit', name]\" class=\"align-middle\">Edit</a>\r\n    </div>\r\n  </div>\r\n\r\n  <rc-control-view\r\n    *ngFor=\"let item of details.controls\"\r\n    [control]=\"item\"\r\n    [ngClass]=\"item.col | columnClassName\"\r\n  ></rc-control-view>\r\n</div>\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { PageDetails, PagesService, WakeLockService } from 'src/core';\r\n\r\n/**\r\n * Represents page with controls and listeners.\r\n * User will navigate in site via this pages.\r\n */\r\n@Component({\r\n  selector: 'rc-page',\r\n  templateUrl: './page.component.html',\r\n  styleUrls: ['./page.component.css']\r\n})\r\nexport class PageComponent implements OnInit, OnDestroy {\r\n  private sub: Subscription;\r\n  public name: string;\r\n  public details: PageDetails = null;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private pagesService: PagesService,\r\n    private router: Router,\r\n    private wakeLockService: WakeLockService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.sub = this.route.params.subscribe(async params => {\r\n      this.name = params['name'];\r\n\r\n      const details = this.pagesService.details(this.name);\r\n      if (details === null) {\r\n        console.warn('Page %o not found. Navigating to home...', this.name);\r\n        this.router.navigate(['/']);\r\n      } else {\r\n        this.details = details;\r\n\r\n        if (details.wakeLock) {\r\n          await this.wakeLockService.lock();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.sub.unsubscribe();\r\n\r\n    if (this.details?.wakeLock)\r\n      this.wakeLockService.releaseLock();\r\n  }\r\n}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nexport function getBaseUrl() {\r\n  return document.getElementsByTagName('base')[0].href;\r\n}\r\n\r\nconst providers = [\r\n  { provide: 'BASE_URL', useFactory: getBaseUrl, deps: [] }\r\n];\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic(providers).bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n\r\n//export { renderModule, renderModuleFactory } from '@angular/platform-server';\r\n"]}